openapi: 3.0.0
servers:
  - description: Local server
    url: http://0.0.0.0:8000
info:
  title: Fireblocks Provider Connectivity API v2
  version: 0.4.1
  x-logo:
    url: doc-assets/fireblocks-logo-lockup-network-navy.png
    altText: Fireblocks logo
  contact:
    name: Fireblocks
    url: https://fireblocks.com
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  description: 
    $ref: README.md
tags:
  - name: capabilities
    description: Server capabilities discovery operations.
  - name: accounts
    description: User accounts management operations.
  - name: balances
    description: Balances management operations.
  - name: rates
    description: Rates operations.
  - name: liquidity
    description: Liquidity operations
  - name: transfers
    description: Fund transfers management operations.
  - name: transfersBlockchain
    description: Fund transfers over public blockchains.
  - name: transfersFiat
    description: National currency fund transfers.
  - name: transfersPeerAccounts
    description: Transfers to a peer account managed by the same provider.
  - name: transfersInternal
    description: Transfers to a sub account in the same account.
  - name: collateral
    description: Collateral management operations.
  - name: collateralNotifications
    description: Webhook notifications sent by Fireblocks to exchanges for collateral events.
  - name: ramps
    description: |-
      Beta Feature â€“ Limited Access.

      On-ramp, off-ramp and bridging operations.
paths:
  /capabilities:
    get:
      operationId: getCapabilities
      summary: Describe server capabilities
      description: |-
        Returns the API version and all the capabilities that the server supports.  
          
        The capabilities are specified as a map. The map keys are the capability names and the values are lists of account IDs. If all the accounts support a capability, an asterisk could be used, instead of listing all the accounts.
      tags:
        - capabilities
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
      responses:
        '200':
          description: Server capability details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Capabilities'
              examples:
                allAccountsSupportAllCapabilities:
                  summary: All accounts support all capabilities
                  value:
                    version: 1.0.37
                    components:
                      accounts: '*'
                      balances: '*'
                      transfers: '*'
                      transfersBlockchain: '*'
                      transfersFiat: '*'
                      transfersPeerAccounts: '*'
                      transfersInternal: '*'
                      liquidity: '*'
                      collateral: '*'
                      ramps: '*'
                      rates: '*'
                allAccountsSupportSomeCapabilities:
                  summary: All accounts support only balances and accounts capabilities
                  value:
                    version: 1.2.0
                    components:
                      accounts: '*'
                      balances: '*'
                twoAccountsSupportTransfers:
                  summary: Only two accounts support fiat transfers
                  value:
                    version: 1.2.0
                    components:
                      accounts: '*'
                      balances: '*'
                      transfers:
                        - 6cd2fe1e-d0bc-4fad-a9ba-9384e0fdfdc0
                        - 7885a47b-0719-4448-b59e-3b8497cd1685
                      transfersFiat:
                        - 6cd2fe1e-d0bc-4fad-a9ba-9384e0fdfdc0
                        - 7885a47b-0719-4448-b59e-3b8497cd1685
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /capabilities/assets:
    get:
      operationId: getAdditionalAssets
      summary: Get list of supported additional assets
      description: Returns assets, supported in addition to the predefined national currencies and the native cryptocurrencies.
      tags:
        - capabilities
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
      responses:
        '200':
          description: List of additional assets.
          content:
            application/json:
              schema:
                type: object
                required:
                  - assets
                properties:
                  assets:
                    type: array
                    items:
                      $ref: '#/components/schemas/AssetDefinition'
              examples:
                usdcTokens:
                  summary: USDC tokens on various blockchains
                  value:
                    assets:
                      - id: 360de0ad-9ba1-45d5-8074-22453f193d65
                        type: Erc20Token
                        blockchain: Ethereum
                        contractAddress: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'
                        name: USDC
                        symbol: USDC
                        description: USDC is a fully collateralized US Dollar stablecoin developed by CENTRE, the open source project with Circle being the first of several forthcoming issuers.
                        decimalPlaces: 6
                      - id: 606bce6b-ff15-4704-9390-b9e32a6cfcff
                        type: Erc20Token
                        blockchain: Polygon PoS
                        contractAddress: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'
                        name: USDC
                        symbol: USDC
                        description: USD Coin is an ERC-20 stablecoin brought to you by Circle and Coinbase. It is issued by regulated and licensed financial institutions that maintain full reserves of the equivalent fiat currency.
                        decimalPlaces: 6
                      - id: 4386cf4d-83b2-4410-96da-0d3919a45506
                        type: StellarToken
                        blockchain: Stellar
                        issuerAddress: GA5ZSEJYB37JRC5AVCIA5MOP4RHTM335X2KGX3IHOJAPP5RE34K4KZVN
                        stellarCurrencyCode: USDC
                        name: USDC
                        symbol: USDC
                        description: USDC is a fully collateralized US Dollar stablecoin, based on the open source fiat stablecoin framework developed by Centre.
                        decimalPlaces: 2
                usdcBucket:
                  summary: USDC bucket
                  description: Buckets are used to aggregate various currencies in one balance entry.
                  value:
                    assets:
                      - id: f0844d82-7097-4521-95bc-d843724a893e
                        type: BucketAsset
                        name: USDC
                        symbol: USDC
                        description: Aggregation of all USDC token over the different blockchains.
                        decimalPlaces: 6
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /capabilities/assets/{id}:
    get:
      operationId: getAssetDetails
      summary: Get details of a supported additional asset.
      description: Returns the details of an assets, supported in addition to the predefined national currencies and the native cryptocurrencies.
      tags:
        - capabilities
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/EntityIdPathParam'
      responses:
        '200':
          description: List of additional assets.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssetDefinition'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts:
    get:
      operationId: getAccounts
      summary: Get list of sub-accounts
      description: Retrieves a paginated list of all sub-accounts available to the provider. Can optionally include balance information for each account if requested. Allows defining parent-child relationships between accounts. Notice that Fireblocks currently supports only one level of hierarchy.
      tags:
        - accounts
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/AccountBalancesQueryParam'
      responses:
        '200':
          description: List of sub-accounts.
          content:
            application/json:
              schema:
                type: object
                required:
                  - accounts
                properties:
                  accounts:
                    type: array
                    items:
                      $ref: '#/components/schemas/Account'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}:
    get:
      operationId: getAccountDetails
      summary: Get sub-account details
      description: |
        Retrieves detailed information about a specific sub-account, including account metadata and optionally balance information if requested.
      tags:
        - accounts
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/AccountBalancesQueryParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: List of sub-accounts.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/rate:
    get:
      operationId: getRateByAccountAndPairId
      summary: Get rate by account and assets
      tags:
        - rates
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/ConversionPairIdQueryParam'
        - $ref: '#/components/parameters/RampsPairIdQueryParam'
        - $ref: '#/components/parameters/OrderBookPairIdQueryParam'
      responses:
        '200':
          description: Rate by pair id.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rate'
              examples:
                usdToEur:
                  summary: USD to EUR rate
                  value:
                    rate: '0.9'
                    timestamp: 1546658861000
                    baseAsset:
                      nationalCurrencyCode: USD
                    quoteAsset:
                      nationalCurrencyCode: EUR
                btcToUsd:
                  summary: BTC to USD rate
                  value:
                    rate: '10000'
                    timestamp: 1546658861000
                    baseAsset:
                      cryptocurrencySymbol: BTC
                    quoteAsset:
                      nationalCurrencyCode: USD
                usdcToUsd:
                  summary: USDC to USD rate
                  value:
                    rate: '1'
                    timestamp: 1546658861000
                    baseAsset:
                      assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                    quoteAsset:
                      nationalCurrencyCode: USD
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/balances:
    get:
      operationId: getBalances
      summary: Get current balances
      description: |
        Retrieves current balance information for the specified account. Can be filtered by asset ID, national currency code, or cryptocurrency symbol.
      tags:
        - balances
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/AssetIdQueryParam'
        - $ref: '#/components/parameters/NationalCurrencyCodeQueryParam'
        - $ref: '#/components/parameters/CryptocurrencySymbolQueryParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: List of asset balances.
          content:
            application/json:
              schema:
                type: object
                required:
                  - balances
                properties:
                  balances:
                    $ref: '#/components/schemas/Balances'
              examples:
                nationalCurrency:
                  summary: National currency balance
                  value:
                    balances:
                      - id: 4ff63424-7e09-4cdf-b7f1-da7b7c65eabe
                        asset:
                          nationalCurrencyCode: USD
                        availableAmount: '1743.43'
                        lockedAmount: '0'
                blockchainNativeCurrency:
                  summary: Blockchain native currency balance
                  value:
                    balances:
                      - id: 76a33ed9-8aa2-4781-93f8-d2369c0c2b14
                        asset:
                          blockchain: Bitcoin
                          cryptocurrencySymbol: BTC
                        availableAmount: '7.00008214'
                        lockedAmount: '0'
                bucketCurrency:
                  summary: Usage of tokens and buckets in balance
                  description: '`assetId` must be one of the IDs returned by `GET /capabilities/assets`. The ID in this example is the ID of the USDC bucket defined in the example responses of `GET /capabilities/assets`.'
                  value:
                    balances:
                      - id: 6f572d77-2f8d-4962-adf4-de4a62bc236b
                        asset:
                          assetId: f0844d82-7097-4521-95bc-d843724a893e
                        availableAmount: '95.03'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /capabilities/liquidity/quotes:
    get:
      operationId: getQuoteCapabilities
      summary: List possible asset conversions
      description: |
        Retrieves the list of supported asset conversion pairs that can be quoted. Shows which assets can be converted to other assets through the liquidity service.
      tags:
        - capabilities
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
      responses:
        '200':
          description: List of possible asset conversions.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuoteCapabilities'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/liquidity/quotes:
    post:
      operationId: createQuote
      summary: Quote creation request
      description: Either `fromAmount` or `toAmount` must be specified, while the unspecified amount will be populated by the server and returned in the response.
      tags:
        - liquidity
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      requestBody:
        description: Details of the quote request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuoteRequest'
      responses:
        '200':
          description: Quote details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Quote'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
    get:
      operationId: getQuotes
      summary: Get list of quotes sorted by creation time
      description: |
        Retrieves a paginated list of all quotes for the specified account. Quotes are sorted by creation time and can be ordered ascending or descending.
      tags:
        - liquidity
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/ListOrderQueryParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: Quotes details.
          content:
            application/json:
              schema:
                type: object
                required:
                  - quotes
                properties:
                  quotes:
                    type: array
                    items:
                      $ref: '#/components/schemas/Quote'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/liquidity/quotes/{id}:
    get:
      operationId: getQuoteDetails
      summary: Get quote details
      description: |
        Retrieves detailed information about a specific quote, including conversion rates, amounts, expiration time, and current status.
      tags:
        - liquidity
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/EntityIdPathParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: Quote details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Quote'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/liquidity/quotes/{id}/execute:
    post:
      operationId: executeQuote
      summary: Execute quote
      description: |
        Executes a previously created quote, performing the actual asset conversion. The quote must be valid and not expired for execution to succeed.
      tags:
        - liquidity
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/EntityIdPathParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: Quote details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Quote'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/capabilities/transfers/withdrawals:
    get:
      operationId: getWithdrawalMethods
      summary: Get list of supported withdrawal methods
      description: |
        Retrieves the list of supported withdrawal methods available for the specified account. Shows which withdrawal types, networks, and destinations are supported for fund transfers.
      tags:
        - capabilities
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: List of withdrawal methods for account.
          content:
            application/json:
              schema:
                type: object
                required:
                  - capabilities
                properties:
                  capabilities:
                    type: array
                    items:
                      $ref: '#/components/schemas/WithdrawalCapability'
              examples:
                allUsdcToBucket:
                  summary: USDCs withdrawals
                  description: |-
                    This response indicates that all USD and USDC bucket balances could be withdrawn using the USDC tokens on the various blockchains. The USD balance  can be specified directly while token and bucket balances must be defined  in `GET /capabilities/assets` and referenced using their IDs.
                    The asset IDs in this example are the same IDs used in the examples of `GET /capabilities/assets`.
                  value:
                    capabilities:
                      - id: 16b8b2c3-bd61-4745-9c48-3d30c2bc6907
                        withdrawal:
                          asset:
                            assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          nationalCurrencyCode: USD
                      - id: 55f184db-9860-4ed7-9db7-7cded54ef0f4
                        withdrawal:
                          asset:
                            assetId: 606bce6b-ff15-4704-9390-b9e32a6cfcff
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          nationalCurrencyCode: USD
                      - id: 68fb13d5-48ff-42d8-8273-1658a9b49082
                        withdrawal:
                          asset:
                            assetId: 4386cf4d-83b2-4410-96da-0d3919a45506
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          nationalCurrencyCode: USD
                      - id: d625f8e7-f8aa-4288-9f39-54fecf024c9a
                        withdrawal:
                          asset:
                            assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          assetId: f0844d82-7097-4521-95bc-d843724a893e
                      - id: e1fb5c58-c4c5-4358-9781-1c52edf1f2f7
                        withdrawal:
                          asset:
                            assetId: 606bce6b-ff15-4704-9390-b9e32a6cfcff
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          assetId: f0844d82-7097-4521-95bc-d843724a893e
                      - id: 19e6770f-71a9-483b-9d9f-7054ea2dc832
                        withdrawal:
                          asset:
                            assetId: 4386cf4d-83b2-4410-96da-0d3919a45506
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          assetId: f0844d82-7097-4521-95bc-d843724a893e
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/capabilities/transfers/deposits:
    get:
      operationId: getDepositMethods
      summary: Get list of supported deposit methods
      description: |
        Retrieves the list of supported deposit methods available for the specified account. Shows which deposit types, networks, and sources are supported for fund transfers.
      tags:
        - capabilities
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: List of deposit methods for account.
          content:
            application/json:
              schema:
                type: object
                required:
                  - capabilities
                properties:
                  capabilities:
                    type: array
                    items:
                      $ref: '#/components/schemas/DepositCapability'
              examples:
                allUsdcToBucket:
                  summary: USDCs deposit into a bucket or USD
                  description: |-
                    This response indicates that all USDC token on the various blockchains could be deposited either into the USDC bucket balance or into the USD balance. The USD balance can be specified directly while token and bucket balances must be defined in `GET /capabilities/assets` and referenced using their IDs.
                    The asset IDs in this example are the same IDs used in the examples of `GET /capabilities/assets`.
                  value:
                    capabilities:
                      - id: 29d7d25a-ed05-479a-9cde-d50b8203d3ec
                        deposit:
                          asset:
                            assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          nationalCurrencyCode: USD
                        addressCreationPolicy: CanCreate
                      - id: adfc2457-1bb7-40d0-9d46-3cfa2dd3a7e1
                        deposit:
                          asset:
                            assetId: 606bce6b-ff15-4704-9390-b9e32a6cfcff
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          nationalCurrencyCode: USD
                        addressCreationPolicy: CanCreate
                      - id: eda3dbb8-ef94-400e-8a6b-2a38302b9505
                        deposit:
                          asset:
                            assetId: 4386cf4d-83b2-4410-96da-0d3919a45506
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          nationalCurrencyCode: USD
                        addressCreationPolicy: CannotCreate
                      - id: b9f471f0-4920-464f-9c6a-97929cc31950
                        deposit:
                          asset:
                            assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          assetId: f0844d82-7097-4521-95bc-d843724a893e
                        addressCreationPolicy: CannotCreate
                      - id: 53a36de2-f36f-4301-8292-a0ecc1c32cda
                        deposit:
                          asset:
                            assetId: 606bce6b-ff15-4704-9390-b9e32a6cfcff
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          assetId: f0844d82-7097-4521-95bc-d843724a893e
                        addressCreationPolicy: CanCreate
                      - id: dd59e6d1-c8ca-4499-8b3f-786ce417ed17
                        deposit:
                          asset:
                            assetId: 4386cf4d-83b2-4410-96da-0d3919a45506
                          transferMethod: PublicBlockchain
                        balanceAsset:
                          assetId: f0844d82-7097-4521-95bc-d843724a893e
                        addressCreationPolicy: CanCreate
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/transfers/withdrawals:
    get:
      operationId: getWithdrawals
      summary: Get list of withdrawals sorted by creation time
      description: |
        Retrieves a paginated list of all withdrawal transactions for the specified account. Withdrawals are sorted by creation time and include all types of withdrawal operations.
      tags:
        - transfers
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/ListOrderQueryParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          $ref: '#/components/responses/WithdrawalsResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/transfers/withdrawals/{id}:
    get:
      operationId: getWithdrawalDetails
      summary: Get withdrawal details
      description: |
        Retrieves detailed information about a specific withdrawal transaction, including status, amounts, fees, destination details, and processing information.
      tags:
        - transfers
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/EntityIdPathParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: Withdrawals details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Withdrawal'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/transfers/withdrawals/blockchain:
    get:
      operationId: getBlockchainWithdrawals
      summary: Get list of withdrawals over public blockchains sorted by creation time
      description: |
        Retrieves a paginated list of withdrawal transactions sent over public blockchains. Includes cryptocurrency transfers to external blockchain addresses, sorted by creation time.
      tags:
        - transfersBlockchain
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/ListOrderQueryParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: List of withdrawals.
          content:
            application/json:
              schema:
                type: object
                required:
                  - withdrawals
                properties:
                  withdrawals:
                    type: array
                    items:
                      $ref: '#/components/schemas/BlockchainWithdrawal'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
    post:
      operationId: createBlockchainWithdrawal
      summary: Create new withdrawal over public blockchain
      description: Should reject any non blockchain withdrawal request.
      tags:
        - transfersBlockchain
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      requestBody:
        description: Withdrawal details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BlockchainWithdrawalRequest'
      responses:
        '201':
          description: New withdrawal has been successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlockchainWithdrawal'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/transfers/withdrawals/fiat:
    get:
      operationId: getFiatWithdrawals
      summary: Get list of fiat withdrawals sorted by creation time
      description: |
        Retrieves a paginated list of fiat currency withdrawal transactions. Includes traditional banking transfers and wire transfers, sorted by creation time.
      tags:
        - transfersFiat
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/ListOrderQueryParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: List of withdrawals.
          content:
            application/json:
              schema:
                type: object
                required:
                  - withdrawals
                properties:
                  withdrawals:
                    type: array
                    items:
                      $ref: '#/components/schemas/FiatWithdrawal'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
    post:
      operationId: createFiatWithdrawal
      summary: Create new fiat withdrawal
      description: Should reject any non fiat withdrawal request.
      tags:
        - transfersFiat
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      requestBody:
        description: Withdrawal details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FiatWithdrawalRequest'
      responses:
        '201':
          description: New withdrawal has been successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FiatWithdrawal'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/transfers/withdrawals/peeraccount:
    get:
      operationId: getPeerAccountWithdrawals
      summary: Get list of withdrawals to peer accounts, sorted by creation time
      description: |
        Retrieves a paginated list of withdrawal transactions sent to peer accounts. Includes transfers to other accounts within the same provider ecosystem, sorted by creation time.
      tags:
        - transfersPeerAccounts
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/ListOrderQueryParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: List of withdrawals.
          content:
            application/json:
              schema:
                type: object
                required:
                  - withdrawals
                properties:
                  withdrawals:
                    type: array
                    items:
                      $ref: '#/components/schemas/PeerAccountWithdrawal'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
    post:
      operationId: createPeerAccountWithdrawal
      summary: Create new withdrawal to a peer account
      description: Should reject any non peer acount withdrawal request.
      tags:
        - transfersPeerAccounts
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      requestBody:
        description: Withdrawal details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PeerAccountWithdrawalRequest'
      responses:
        '201':
          description: New withdrawal has been successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PeerAccountWithdrawal'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/transfers/withdrawals/subaccount:
    get:
      operationId: getSubAccountWithdrawals
      summary: Get list of withdrawals to sub-accounts, sorted by creation time
      description: |
        Retrieves a paginated list of internal withdrawal transactions between sub-accounts. Includes transfers within the same organization or account structure, sorted by creation time.
      tags:
        - transfersInternal
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/ListOrderQueryParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: List of withdrawals.
          content:
            application/json:
              schema:
                type: object
                required:
                  - withdrawals
                properties:
                  withdrawals:
                    type: array
                    items:
                      $ref: '#/components/schemas/InternalWithdrawal'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
    post:
      operationId: createSubAccountWithdrawal
      summary: Create new transfer to another sub-account
      description: Transfers assets between different sub-accounts of the same user. Should reject any withdrawals that are not sub-account transfers.
      tags:
        - transfersInternal
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      requestBody:
        description: Withdrawal details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InternalWithdrawalRequest'
      responses:
        '201':
          description: New withdrawal has been successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalWithdrawal'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/transfers/deposits:
    get:
      operationId: getDeposits
      summary: Get list of deposits sorted by creation time in a descending order
      description: |
        Retrieves a paginated list of all deposit transactions for the specified account. Deposits are sorted by creation time in descending order and include all types of deposit operations.
      tags:
        - transfers
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: Deposits details.
          content:
            application/json:
              schema:
                type: object
                required:
                  - deposits
                properties:
                  deposits:
                    type: array
                    items:
                      $ref: '#/components/schemas/Deposit'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/transfers/deposits/{id}:
    get:
      operationId: getDepositDetails
      summary: Get deposit details
      description: |
        Retrieves detailed information about a specific deposit transaction, including status, amounts, source details, confirmation information, and processing details.
      tags:
        - transfers
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/EntityIdPathParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: List of deposits.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Deposit'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/transfers/deposits/addresses:
    post:
      operationId: createDepositAddress
      summary: Create new deposit address
      description: |
        Creates a new deposit address for the specified account and asset. The generated address can be used to receive deposits for the specified cryptocurrency or token.
      tags:
        - transfersFiat
        - transfersBlockchain
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      requestBody:
        description: Deposit address details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DepositAddressCreationRequest'
      responses:
        '200':
          description: New deposit address created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DepositAddress'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
    get:
      operationId: getDepositAddresses
      summary: Get list of existing deposit addresses
      description: |
        Retrieves a paginated list of all deposit addresses associated with the specified account. Shows addresses for different cryptocurrencies and networks that can receive deposits.
      tags:
        - transfersFiat
        - transfersBlockchain
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: List of existing deposit addresses.
          content:
            application/json:
              schema:
                type: object
                required:
                  - addresses
                properties:
                  addresses:
                    type: array
                    items:
                      $ref: '#/components/schemas/DepositAddress'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/transfers/deposits/addresses/{id}:
    get:
      operationId: getDepositAddressDetails
      summary: Get details of a deposit address
      description: |
        Retrieves detailed information about a specific deposit address, including the address string, associated network, asset type, and usage metadata.
      tags:
        - transfersFiat
        - transfersBlockchain
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/EntityIdPathParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: New deposit address created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DepositAddress'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
    delete:
      operationId: disableDepositAddress
      summary: Disable a deposit address
      description: |
        Disables a specific deposit address, preventing it from receiving new deposits. Existing funds sent to the address may still be processed depending on timing and confirmation status.
      tags:
        - transfersFiat
        - transfersBlockchain
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/EntityIdPathParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          description: Deposit address disabled.
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/collateral/link:
    post:
      tags:
        - collateral
      summary: Initiate collateral account link
      description: |
        Creates a new link between a collateral account and a provider account.
      operationId: createCollateralAccountLink
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      requestBody:
        description: Collateral account link details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollateralAccount'
      responses:
        '200':
          description: Link created successfully
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralAccountLink'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
    get:
      operationId: getCollateralAccountLinks
      summary: Get list of collateral account links
      description: |
        Retrieves all collateral account links associated with the specified account. Returns details about link status, eligible assets, and collateral configuration.
      tags:
        - collateral
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
      responses:
        '200':
          description: List of collateral account links
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                type: object
                required:
                  - collateralLinks
                properties:
                  collateralLinks:
                    type: array
                    items:
                      $ref: '#/components/schemas/CollateralAccountLink'
              examples:
                activeLink:
                  summary: Active collateral account link
                  description: This response indicates that the provider account is linked to a collateral account.
                  value:
                    collateralLinks:
                      - collateralId: f861c6ca-f4c8-44dd-a02e-081a38745623.95e40c1e-407e-405c-871e-d69218611a79.4cd3e66b-4ee4-4750-bcfd-d2d43054fc5d
                        collateralSigners:
                          - 4cd3e66b-4ee4-4750-bcfd-d2d43054fc5d
                        id: 360de0ad-9ba1-45d5-8074-22453f193d65
                        eligibleCollateralAssets:
                          - blockchain: Bitcoin
                            cryptocurrencySymbol: BTC
                            testAsset: false
                          - assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                        status: Linked
                        env: prod
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/collateral/{collateralId}/addresses:
    post:
      tags:
        - collateral
      summary: Create/register a collateral deposit address for a specific asset
      description: |
        Notifies the provider to have a new collateral deposit address for a specific asset. The provider is expected to listen to this address and credit the account accordingly,  or sending the funds to this address if a withdrawal is requested.
      operationId: createCollateralDepositAddressForAsset
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
      requestBody:
        description: Collateral deposit address details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollateralAddress'
      responses:
        '200':
          description: Successful Operation
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralAssetAddress'
        '400':
          description: Return Bad Request.
        '401':
          description: Unauthorized. Either API details are missing or invalid
        '403':
          description: Forbidden- You do not have access to the requested resource.
        '415':
          description: Unsupported media type. You need to use application/json.
        '500':
          description: Exchange internal error.
    get:
      operationId: getCollateralDepositAddresses
      summary: Get list of collateral account deposit addresses
      description: |
        Retrieves all registered deposit addresses for the specified collateral account. Can be filtered by asset ID or cryptocurrency symbol to get addresses for specific assets.
      tags:
        - collateral
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/AssetIdQueryParam'
        - $ref: '#/components/parameters/CryptocurrencySymbolQueryParam'
      responses:
        '200':
          description: List of collateral deposit addresses
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralDepositAddresses'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/collateral/{collateralId}/addresses/{id}:
    get:
      operationId: getCollateralDepositAddressesDetails
      summary: Get details of a specific deposit address in a collateral account.
      description: |
        Retrieves detailed information about a specific deposit address within a collateral account, including the address details and recovery account configuration.
      tags:
        - collateral
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
        - $ref: '#/components/parameters/EntityIdPathParam'
      responses:
        '200':
          description: Specific collateral deposit address
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralAssetAddress'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/collateral/{collateralId}/intents/deposits:
    post:
      tags:
        - collateral
      summary: Preflight check before initiating a collateral deposit
      description: |
        Initiates a preflight request for a new collateral deposit transaction. The provider is notified, and Fireblocks waits for their approval before proceeding.
      operationId: initiateCollateralDepositTransactionIntent
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
      requestBody:
        description: Collateral deposit transaction preflight request details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollateralDepositTransactionIntentRequest'
      responses:
        '200':
          description: Successful Operation
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralDepositTransactionIntentResponse'
        '400':
          description: Return Bad Request.
        '401':
          description: Unauthorized. Either API details are missing or invalid
        '403':
          description: Forbidden- You do not have access to the requested resource.
        '415':
          description: Unsupported media type. You need to use application/json.
        '500':
          description: Exchange internal error.
  /accounts/{accountId}/collateral/{collateralId}/deposits:
    post:
      tags:
        - collateral
      summary: Register a collateral deposit transaction
      description: |
        Notifies the provider to have start listening to a new collateral deposit transaction. The provider is expected to listen to this address and credit the account accordingly
      operationId: registerCollateralDepositTransaction
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
      requestBody:
        description: Collateral deposit transaction details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollateralDepositTransactionRequest'
      responses:
        '200':
          description: Successful Operation
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralDepositTransactionResponse'
        '400':
          description: Return Bad Request.
        '401':
          description: Unauthorized. Either API details are missing or invalid
        '403':
          description: Forbidden- You do not have access to the requested resource.
        '415':
          description: Unsupported media type. You need to use application/json.
        '500':
          description: Exchange internal error.
    get:
      operationId: getCollateralDepositTransactions
      summary: Get list of collateral account deposit transactions sorted by creation time
      description: |
        Retrieves a paginated list of all deposit transactions for the specified collateral account. Transactions are sorted by creation time and include status information and approval details.
      tags:
        - collateral
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
      responses:
        '200':
          description: List of collateral deposit transactions
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralDepositTransactionsResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/collateral/{collateralId}/deposits/{collateralTxId}:
    get:
      operationId: getCollateralDepositTransactionDetails
      summary: Get a collateral account deposit transaction details
      description: |
        Retrieves detailed information about a specific collateral deposit transaction, including transaction status, approval details, and processing information.
      tags:
        - collateral
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
        - $ref: '#/components/parameters/CollateralTxIdPathParam'
      responses:
        '200':
          description: A collateral deposit transaction details
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralDepositTransactionResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/collateral/{collateralId}/intents/withdrawals:
    post:
      tags:
        - collateral
      summary: Preflight check before initiating a collateral withdrawal
      description: |
        Initiates a preflight request for a new collateral withdrawal transaction. The provider is notified, and Fireblocks waits for their approval before proceeding.
      operationId: initiateCollateralWithdrawalTransactionIntent
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
      requestBody:
        description: Collateral withdrawal transaction preflight request details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollateralWithdrawalTransactionIntentRequest'
      responses:
        '200':
          description: Successful Operation
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralWithdrawalTransactionIntentResponse'
        '400':
          description: Return Bad Request.
        '401':
          description: Unauthorized. Either API details are missing or invalid
        '403':
          description: Forbidden- You do not have access to the requested resource.
        '415':
          description: Unsupported media type. You need to use application/json.
        '500':
          description: Exchange internal error.
  /accounts/{accountId}/collateral/{collateralId}/withdrawals:
    post:
      tags:
        - collateral
      summary: Notify of a withdrawal from a collateral account
      description: |
        Initiate a withdrawal from the customers collateral account.  The withdrawal has been confirmed by the provider and signed by the customer. The amount can be reduced from the customers available balance in the provider main account based on the withdrawal amount.
      operationId: initiateCollateralWithdrawalTransaction
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
      requestBody:
        description: Collateral withdrawal transaction details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollateralWithdrawalTransactionRequest'
      responses:
        '200':
          description: Successful Operation
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralWithdrawalTransaction'
        '400':
          description: Return Bad Request.
        '401':
          description: Unauthorized. Either API details are missing or invalid
        '403':
          description: Forbidden- You do not have access to the requested resource.
        '415':
          description: Unsupported media type. You need to use application/json.
        '500':
          description: Exchange internal error.
    get:
      operationId: getCollateralWithdrawalTransactions
      summary: Get list of collateral withdrawal transactions sorted by creation time
      description: |
        Retrieves a paginated list of all withdrawal transactions for the specified collateral account. Transactions are sorted by creation time and include status, approval details, and settlement information.
      tags:
        - collateral
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
      responses:
        '200':
          description: List of collateral withdrawal transactions
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralWithdrawalTransactions'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/collateral/{collateralId}/withdrawals/{collateralTxId}:
    get:
      operationId: getCollateralWithdrawalTransactionDetails
      summary: Get a collateral withdrawal transaction details
      description: |
        Retrieves detailed information about a specific collateral withdrawal transaction, including transaction status, approval details, settlement information, and rejection reasons if applicable.
      tags:
        - collateral
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
        - $ref: '#/components/parameters/CollateralTxIdPathParam'
      responses:
        '200':
          description: A collateral withdrawal transaction details
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollateralWithdrawalTransaction'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/collateral/{collateralId}/settlement:
    post:
      tags:
        - collateral
      summary: Initiate a settlement request from the provider
      description: Request a settlement from the provider.
      operationId: initiateSettlement
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
      requestBody:
        description: Collateral withdrawal transaction details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SettlementRequest'
      responses:
        '200':
          description: Settlement instructions
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettlementInstructions'
        '400':
          description: Return Bad Request.
        '401':
          description: Unauthorized. Either API details are missing or invalid
        '403':
          description: Forbidden- You do not have access to the requested resource.
        '415':
          description: Unsupported media type. You need to use application/json.
        '500':
          description: Exchange internal error.
    get:
      operationId: getCurrentSettlementInstructions
      summary: Get current Instructions for settlement
      description: |
        Gets a list of required transactions to finalize the settlement
      tags:
        - collateral
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
      responses:
        '200':
          description: Settlement instructions
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettlementInstructions'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/collateral/{collateralId}/settlements/{settlementVersion}:
    get:
      operationId: getSettlementDetails
      summary: Get a settlement details
      description: |
        Retrieves detailed information about a specific settlement state for a collateral account, including withdrawal and deposit transaction details, settlement status, and completion information.
      tags:
        - collateral
      parameters:
        - $ref: '#/components/parameters/X-FB-PLATFORM-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/CollateralIdPathParam'
        - $ref: '#/components/parameters/SettlementVersionPathParam'
      responses:
        '200':
          description: A specific settlement details
          headers:
            X-PROVIDER-SIGNATURE:
              $ref: '#/components/headers/X-PROVIDER-SIGNATURE'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettlementState'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/capabilities/ramps:
    get:
      operationId: getRampMethods
      summary: Get list of supported ramp methods
      description: |
        Retrieves the list of supported on-ramp and off-ramp methods available for the specified account. Shows which payment methods and currencies are supported for fiat-to-crypto and crypto-to-fiat conversions.
      tags:
        - capabilities
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          $ref: '#/components/responses/RampMethodsResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/ramps:
    get:
      operationId: getRamps
      summary: Get list of ramps sorted by creation time
      description: |
        Retrieves a paginated list of all ramp transactions for the specified account. Ramps are sorted by creation time and include both on-ramp and off-ramp operations.
      tags:
        - ramps
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/PaginationLimit'
        - $ref: '#/components/parameters/PaginationStartingAfter'
        - $ref: '#/components/parameters/PaginationEndingBefore'
        - $ref: '#/components/parameters/ListOrderQueryParam'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      responses:
        '200':
          $ref: '#/components/responses/GetRampsResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
    post:
      operationId: createRamp
      summary: Initiates a new ramp
      description: Creates the payment instructions for the new ramp and return it in the response.
      tags:
        - ramps
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
      requestBody:
        description: Ramp details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RampRequest'
      responses:
        '201':
          $ref: '#/components/responses/CreateRampResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
  /accounts/{accountId}/ramps/{id}:
    get:
      operationId: getRampDetails
      summary: Get details of a specific ramp
      description: |
        Retrieves detailed information about a specific ramp transaction, including payment instructions, status, amounts, and processing details.
      tags:
        - ramps
      parameters:
        - $ref: '#/components/parameters/X-FBAPI-KEY'
        - $ref: '#/components/parameters/X-FBAPI-NONCE'
        - $ref: '#/components/parameters/X-FBAPI-SIGNATURE'
        - $ref: '#/components/parameters/X-FBAPI-TIMESTAMP'
        - $ref: '#/components/parameters/SubAccountIdPathParam'
        - $ref: '#/components/parameters/EntityIdPathParam'
      responses:
        '200':
          $ref: '#/components/responses/GetRampDetailsResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        4XX:
          $ref: '#/components/responses/ErrorResponse'
        5XX:
          $ref: '#/components/responses/ErrorResponse'
components:
  parameters:
    X-FB-PLATFORM-SIGNATURE:
      name: X-FB-PLATFORM-SIGNATURE
      in: header
      required: true
      description: Authentication signature of Fireblocks as the originator of the request
      schema:
        type: string
    X-FBAPI-KEY:
      name: X-FBAPI-KEY
      in: header
      required: true
      description: API authentication key.
      schema:
        type: string
    X-FBAPI-TIMESTAMP:
      name: X-FBAPI-TIMESTAMP
      in: header
      required: true
      description: Request timestamp in milliseconds since Unix epoch.
      schema:
        type: number
    X-FBAPI-NONCE:
      name: X-FBAPI-NONCE
      in: header
      required: true
      description: Unique identifier of the request.
      schema:
        type: string
    X-FBAPI-SIGNATURE:
      name: X-FBAPI-SIGNATURE
      in: header
      required: true
      description: |-
        Request signature using the chosen cryptographic algorithm. The signature is to be calculated on concatenation of the following request fields in the specified order:
        - `X-FBAPI-TIMESTAMP` - `X-FBAPI-NONCE` - HTTP request method in upper case - Endpoint path, including the query parameters - Request body
      schema:
        type: string
    EntityIdPathParam:
      name: id
      in: path
      required: true
      description: Entity unique identifier.
      schema:
        type: string
    SubAccountIdPathParam:
      name: accountId
      in: path
      required: true
      description: Sub-account identifier.
      schema:
        type: string
        pattern: ^[A-Za-z0-9_-]+$
    ListOrderQueryParam:
      name: order
      in: query
      description: Controls the order of the items in the returned list.
      schema:
        type: string
        enum:
          - asc
          - desc
        default: desc
    PaginationLimit:
      name: limit
      in: query
      description: Maximum number of returned items.
      schema:
        type: integer
        minimum: 1
        maximum: 200
        default: 10
    PaginationStartingAfter:
      name: startingAfter
      in: query
      description: Object ID. Instructs to return the items immediately following this object and not including it. Cannot be used together with `endingBefore`.
      schema:
        type: string
    PaginationEndingBefore:
      name: endingBefore
      in: query
      description: Object ID. Instructs to return the items immediately preceding this object and not including it. Cannot be used together with `startingAfter`.
      schema:
        type: string
    AssetIdQueryParam:
      name: assetId
      description: ID of one of the assets returned in get-additional-assets. Limits the response to one. Cannot be used in conjunction with cryptocurrencySymbol or nationalCurrencyCode
      in: query
      schema:
        type: string
    NationalCurrencyCodeQueryParam:
      name: nationalCurrencyCode
      description: Limits the response to one asset with the provided NationalCurrencyCode Cannot be used in conjunction with cryptocurrencySymbol or assetId
      in: query
      schema:
        $ref: '#/components/schemas/NationalCurrencyCode'
    CryptocurrencySymbolQueryParam:
      name: cryptocurrencySymbol
      description: Limits the response to one asset with the provided CryptocurrencySymbol Cannot be used in conjunction with nationalCurrencyCode or assetId
      in: query
      schema:
        $ref: '#/components/schemas/CryptocurrencySymbol'
    ConversionPairIdQueryParam:
      name: conversionPairId
      in: query
      description: Conversion pair to get the rate for.
      schema:
        type: string
    RampsPairIdQueryParam:
      name: rampsPairId
      in: query
      description: Ramps pair to get the rate for.
      schema:
        type: string
    OrderBookPairIdQueryParam:
      name: orderBookPairId
      in: query
      description: Order book pair to get the rate for.
      schema:
        type: string
    AccountBalancesQueryParam:
      name: balances
      in: query
      description: Flag to include the account balances in the response. Balances are not returned by default for account endpoints.
      schema:
        type: boolean
    CollateralIdPathParam:
      name: collateralId
      description: ID of a collateral account
      in: path
      required: true
      schema:
        type: string
    CollateralTxIdPathParam:
      name: collateralTxId
      description: A Fireblocks' ID of a collateral transaction
      in: path
      required: true
      schema:
        type: string
    SettlementVersionPathParam:
      name: settlementVersion
      description: A provider version ID of a settlement state
      in: path
      required: true
      schema:
        type: string
  headers:
    X-PROVIDER-SIGNATURE:
      required: true
      description: Response signature using the chosen cryptographic algorithm.
      schema:
        type: string
  responses:
    BadRequestResponse:
      description: Request could not be processed due to a client error.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/BadRequestError'
    UnauthorizedResponse:
      description: Request is unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UnauthorizedError'
    ErrorResponse:
      description: Failed to process request.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/GeneralError'
    WithdrawalsResponse:
      description: List of withdrawals.
      content:
        application/json:
          schema:
            type: object
            required:
              - withdrawals
            properties:
              withdrawals:
                type: array
                items:
                  $ref: '#/components/schemas/Withdrawal'
    RampMethodsResponse:
      description: List of ramp methods for account.
      content:
        application/json:
          schema:
            type: object
            required:
              - capabilities
            properties:
              capabilities:
                type: array
                items:
                  $ref: '#/components/schemas/RampMethod'
          examples:
            allUsdMethods:
              summary: USDs ramps
              description: |-
                This response indicates that on ramp from USD to USDC, off  ramp from USDC to USD and bridging between USDC and USDC on  different blockchains are supported. The USD asset can be  specified directly while tokens must be defined in  `GET /capabilities/assets` and referenced using their IDs.
                The asset IDs in this example are the same IDs used in the  examples of `GET /capabilities/assets`.
              value:
                capabilities:
                  - id: 16b8b2c3-bd61-4745-9c48-3d30c2bc6907
                    from:
                      asset:
                        nationalCurrencyCode: USD
                      transferMethod: Iban
                    to:
                      asset:
                        assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                      transferMethod: PublicBlockchain
                  - id: 69fa4f38-c1fd-4215-a310-82272225c4ef
                    from:
                      asset:
                        assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                      transferMethod: PublicBlockchain
                    to:
                      asset:
                        nationalCurrencyCode: USD
                      transferMethod: Iban
                  - id: afc7caa0-5b7e-4c98-8f2a-a037d0c6bbea
                    from:
                      asset:
                        assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                      transferMethod: PublicBlockchain
                    to:
                      asset:
                        assetId: 606bce6b-ff15-4704-9390-b9e32a6cfcff
                      transferMethod: PublicBlockchain
    CreateRampResponse:
      description: New ramp has been successfully created.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Ramp'
          examples:
            onRamp:
              summary: OnRamp
              description: A standard fiat to crypto on-ramp without additional features.
              value:
                id: 16b8b2c3-bd61-4745-9c48-3d30c2bc6907
                createdAt: '2021-09-01T12:00:00Z'
                updatedAt: '2021-09-01T12:00:00Z'
                status: Pending
                amount: '1000.00'
                type: OnRamp
                expiresAt: '2021-09-01T12:00:00Z'
                from:
                  asset:
                    nationalCurrencyCode: USD
                  transferMethod: Iban
                to:
                  asset:
                    assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                  transferMethod: PublicBlockchain
                  address: '0x1234567890abcdef1234567890abcdef12345678'
                paymentInstructions:
                  asset:
                    nationalCurrencyCode: USD
                  transferMethod: Iban
                  accountHolder:
                    name: John Doe
                    address: 123 Main St, New York, NY 10001
                  iban: US1234567890
                estimatedFees:
                  - feeType: ORDER
                    feeAsset:
                      nationalCurrencyCode: USD
                    fee:
                      amountType: FIXED
                      amount: '100.00'
            onRampWithQuote:
              summary: OnRamp with Quote
              description: An on-ramp that includes quote information for price execution.
              value:
                id: 69fa4f38-c1fd-4215-a310-82272225c4ef
                createdAt: '2021-09-01T12:00:00Z'
                updatedAt: '2021-09-01T12:00:00Z'
                status: Pending
                amount: '500.00'
                type: OnRamp
                expiresAt: '2021-09-01T12:00:00Z'
                from:
                  asset:
                    nationalCurrencyCode: USD
                  transferMethod: Iban
                to:
                  asset:
                    assetId: 606bce6b-ff15-4704-9390-b9e32a6cfcff
                  transferMethod: PublicBlockchain
                  address: '0xabcdef1234567890abcdef1234567890abcdef12'
                paymentInstructions:
                  asset:
                    nationalCurrencyCode: USD
                  transferMethod: Iban
                  accountHolder:
                    name: Jane Smith
                    address: 456 Oak Street, London, UK
                  iban: US1234567890
                executionDetails:
                  type: Quote
                  quoteId: quote-123456789
                  reQuote:
                    type: Retry
                    slippage: 0.02
                    count: 3
                estimatedFees:
                  - feeType: ORDER
                    feeAsset:
                      nationalCurrencyCode: USD
                    fee:
                      amountType: FIXED
                      amount: '100.00'
    GetRampDetailsResponse:
      description: Ramp details.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Ramp'
    GetRampsResponse:
      description: List of ramps for account.
      content:
        application/json:
          schema:
            type: object
            required:
              - ramps
            properties:
              ramps:
                type: array
                items:
                  $ref: '#/components/schemas/Ramp'
          examples:
            allRamps:
              summary: All ramps
              description: This response indicates that there are 3 ramps in the account.
              value:
                ramps:
                  - id: 16b8b2c3-bd61-4745-9c48-3d30c2bc6907
                    createdAt: '2021-09-01T12:00:00Z'
                    updatedAt: '2021-09-01T12:00:00Z'
                    status: Pending
                    amount: '1231.45'
                    type: OnRamp
                    from:
                      asset:
                        nationalCurrencyCode: USD
                      transferMethod: Iban
                    to:
                      asset:
                        assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                      transferMethod: PublicBlockchain
                      address: '0x1234567890abcdef1234567890abcdef12345678'
                      tag: 1234567890abcdef
                    paymentInstructions:
                      asset:
                        nationalCurrencyCode: USD
                      transferMethod: Iban
                      accountHolder:
                        name: John Doe
                        address: 123 Main St, New York, NY 10001
                      iban: US1234567890
                    estimatedFees:
                      - feeType: ORDER
                        feeAsset:
                          nationalCurrencyCode: USD
                        fee:
                          amountType: FIXED
                          amount: '100.00'
                    expiresAt: '2021-09-01T12:00:00Z'
                  - id: 69fa4f38-c1fd-4215-a310-82272225c4ef
                    createdAt: '2021-09-01T12:00:00Z'
                    updatedAt: '2021-09-01T12:00:00Z'
                    status: Completed
                    amount: '1231.45'
                    type: OffRamp
                    from:
                      asset:
                        assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                      transferMethod: PublicBlockchain
                    to:
                      asset:
                        nationalCurrencyCode: USD
                      transferMethod: Iban
                      accountHolder:
                        name: John Doe
                        address: 123 Main St, New York, NY 10001
                      iban: US1234567890
                    paymentInstructions:
                      asset:
                        assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                      transferMethod: PublicBlockchain
                      address: '0x1234567890abcdef1234567890abcdef12345678'
                    payment:
                      blockchainTxId: '0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef'
                      amount: '1231.45'
                      address: '0x1234567890abcdef1234567890abcdef12345678'
                      asset:
                        assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                      transferMethod: PublicBlockchain
                    receipt:
                      asset:
                        nationalCurrencyCode: USD
                      transferMethod: Iban
                      accountHolder:
                        name: John Doe
                        address: 123 Main St, New York, NY 10001
                      iban: US1234567890
                      amount: '1231.45'
                      actualFees:
                        - feeType: ORDER
                          feeAsset:
                            nationalCurrencyCode: USD
                          fee:
                            amountType: FIXED
                            amount: '100.00'
                    expiresAt: '2021-09-01T12:00:00Z'
                  - id: afc7caa0-5b7e-4c98-8f2a-a037d0c6bbea
                    createdAt: '2021-09-01T12:00:00Z'
                    updatedAt: '2021-09-01T12:00:00Z'
                    status: Processing
                    amount: '1231.45'
                    type: Bridge
                    from:
                      asset:
                        assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                      transferMethod: PublicBlockchain
                    to:
                      asset:
                        assetId: 606bce6b-ff15-4704-9390-b9e32a6cfcff
                      transferMethod: PublicBlockchain
                      address: '0x1234567890abcdef1234567890abcdef12345678'
                      tag: 1234567890abcdef
                    paymentInstructions:
                      asset:
                        assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                      transferMethod: PublicBlockchain
                      address: '0x1234567890abcdef1234567890abcdef12355678'
                    payment:
                      blockchainTxId: '0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef'
                      amount: '1231.45'
                      address: '0x1234567890abcdef1234567890abcdef12355678'
                      asset:
                        assetId: 360de0ad-9ba1-45d5-8074-22453f193d65
                      transferMethod: PublicBlockchain
                    receipt:
                      actualFees:
                        - feeType: ORDER
                          feeAsset:
                            nationalCurrencyCode: USD
                          fee:
                            amountType: FIXED
                            amount: '100.00'
                      blockchainTxId: '0x1234567890abcdef1234567899abcdef1234567890abcdef1234567890abcdef'
                      amount: '1231.45'
                      address: '0x1234567890abcdef1234567890abcdef12345678'
                      asset:
                        assetId: 606bce6b-ff15-4704-9390-b9e32a6cfcff
                      transferMethod: PublicBlockchain
                    estimatedFees:
                      - feeType: ORDER
                        feeAsset:
                          nationalCurrencyCode: USD
                        fee:
                          amountType: FIXED
                          amount: '100.00'
                    expiresAt: '2021-09-01T12:00:00Z'
  schemas:
    GeneralError:
      description: Should be returned only if there in no more specific object.
      type: object
      required:
        - message
        - errorType
      properties:
        message:
          description: Description of the error.
          type: string
        errorType:
          enum:
            - internal-error
            - not-found
    BadRequestError:
      description: |-
        Request could not be processed due to a client error.
        If the error is caused by a missing or wrong property in the request, `errorType` must have the value `schema-property-error` and the properties  `propertyName` and `requestPart` must be specified. For more general schema errors, the error type should be `schema-error` and `requestPart` must be specified. For all the other cases the error type should be `bad-request`.
      type: object
      required:
        - message
        - errorType
      properties:
        message:
          description: Description of the error.
          type: string
        errorType:
          enum:
            - schema-error
            - schema-property-error
            - bad-request
            - unknown-asset
            - unsupported-conversion
            - quote-not-ready
            - deposit-address-disabled
            - order-not-trading
            - idempotency-key-reuse
            - deposit-address-creation-not-allowed
            - unsupported-transfer-method
            - transfer-destination-not-allowed
            - unsupported-ramp-method
        propertyName:
          description: |-
            Name of property that caused the error. By convention, should always start with a slash ("/"). If the property is nested, the path should be separated by slashes.
            This property is required if the error type is caused by a missing or wrong property in the request.
          type: string
          example: /topLevelProperyName/childPropertyName/thirdLevelPropertyName
        requestPart:
          $ref: '#/components/schemas/RequestPart'
    UnauthorizedError:
      description: Request is unauthorized
      type: object
      required:
        - message
        - errorType
      properties:
        message:
          description: Description of the error.
          type: string
        errorType:
          enum:
            - unauthorized
        propertyName:
          description: Name of property that caused the error.
          enum:
            - X-FBAPI-KEY
        requestPart:
          description: Request part where the error occurred.
          enum:
            - headers
    RequestPart:
      description: Request part where the error occurred.
      enum:
        - params
        - body
        - querystring
        - headers
    Capabilities:
      type: object
      required:
        - version
        - components
      properties:
        version:
          description: Version number of the API specification that this server implements
          type: string
          pattern: ^(\d)+\.(\d)+\.(\d)+$
          example: 1.0.37
        components:
          $ref: '#/components/schemas/ApiComponents'
    ApiComponents:
      description: Lists supported API components and which sub-accounts support the component.
      type: object
      required:
        - accounts
        - balances
      properties:
        accounts:
          $ref: '#/components/schemas/AccountsSet'
        balances:
          $ref: '#/components/schemas/AccountsSet'
        transfers:
          $ref: '#/components/schemas/AccountsSet'
        transfersBlockchain:
          $ref: '#/components/schemas/AccountsSet'
        transfersFiat:
          $ref: '#/components/schemas/AccountsSet'
        transfersPeerAccounts:
          $ref: '#/components/schemas/AccountsSet'
        transfersInternal:
          $ref: '#/components/schemas/AccountsSet'
        liquidity:
          $ref: '#/components/schemas/AccountsSet'
        collateral:
          $ref: '#/components/schemas/AccountsSet'
        ramps:
          $ref: '#/components/schemas/AccountsSet'
        rates:
          $ref: '#/components/schemas/AccountsSet'
    AccountsSet:
      description: Indicates to which sub-accounts an operation applies. The value could be either a list of sub-account IDs or "*". The value "*" indicates all the sub-accounts.
      oneOf:
        - type: string
          pattern: ^\*$
        - type: array
          items:
            type: string
    PositiveAmount:
      type: string
      pattern: ^\d+(\.\d+)?
    AccountStatus:
      type: string
      enum:
        - active
        - inactive
    AccountData:
      type: object
      required:
        - title
        - status
      properties:
        title:
          type: string
        description:
          type: string
        balances:
          $ref: '#/components/schemas/Balances'
        status:
          $ref: '#/components/schemas/AccountStatus'
        parentId:
          type: string
          description: The ID of the parent account. If the field is empty, the account is a main account. Notice that Fireblocks currently supports only one level of hierarchy.
    AccountId:
      type: object
      required:
        - id
      properties:
        id:
          type: string
    Account:
      allOf:
        - $ref: '#/components/schemas/AccountId'
        - $ref: '#/components/schemas/AccountData'
    Balances:
      type: array
      description: Maps balance assets to their balances.
      items:
        anyOf:
          - $ref: '#/components/schemas/AssetCreditBalance'
          - $ref: '#/components/schemas/AssetBalance'
    AssetBalance:
      type: object
      required:
        - id
        - asset
        - availableAmount
      properties:
        id:
          type: string
        asset:
          $ref: '#/components/schemas/AssetReference'
        availableAmount:
          $ref: '#/components/schemas/PositiveAmount'
        lockedAmount:
          $ref: '#/components/schemas/PositiveAmount'
    AssetCreditBalance:
      allOf:
        - $ref: '#/components/schemas/AssetBalance'
        - type: object
          required:
            - creditAmount
          properties:
            creditAmount:
              $ref: '#/components/schemas/PositiveAmount'
    AssetCommonProperties:
      type: object
      required:
        - id
        - name
        - symbol
        - type
        - decimalPlaces
      properties:
        id:
          type: string
        name:
          type: string
        symbol:
          type: string
        description:
          type: string
        decimalPlaces:
          type: integer
        testAsset:
          type: boolean
    BucketAsset:
      allOf:
        - $ref: '#/components/schemas/AssetCommonProperties'
        - type: object
          required:
            - type
          properties:
            type:
              enum:
                - BucketAsset
    Erc20Token:
      allOf:
        - $ref: '#/components/schemas/AssetCommonProperties'
        - type: object
          required:
            - blockchain
            - contractAddress
            - type
          properties:
            type:
              enum:
                - Erc20Token
            blockchain:
              $ref: '#/components/schemas/Blockchain'
            contractAddress:
              type: string
      example:
        blockchain: Ethereum
        name: Tether USD
        symbol: USDT
        decimalPlaces: 6
        contractAddress: '0xdAC17F958D2ee523a2206206994597C13D831ec7'
    Bep20Token:
      allOf:
        - $ref: '#/components/schemas/AssetCommonProperties'
        - type: object
          required:
            - blockchain
            - contractAddress
            - type
          properties:
            type:
              enum:
                - Bep20Token
            blockchain:
              $ref: '#/components/schemas/Blockchain'
            contractAddress:
              type: string
    StellarToken:
      allOf:
        - $ref: '#/components/schemas/AssetCommonProperties'
        - type: object
          required:
            - blockchain
            - issuerAddress
            - stellarCurrencyCode
            - type
          properties:
            type:
              enum:
                - StellarToken
            blockchain:
              $ref: '#/components/schemas/Blockchain'
            issuerAddress:
              type: string
            stellarCurrencyCode:
              type: string
    ContractBasedToken:
      allOf:
        - $ref: '#/components/schemas/AssetCommonProperties'
        - type: object
          required:
            - type
            - blockchain
            - contractAddress
          properties:
            type:
              enum:
                - Jetton
            blockchain:
              $ref: '#/components/schemas/Blockchain'
            contractAddress:
              type: string
      example:
        id: 7df38516-a9bd-42cd-9ac3-284f665ca6e8
        type: Jetton
        blockchain: TON
        name: Tether USD
        symbol: USDT
        decimalPlaces: 6
        testAsset: true
        contractAddress: EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs
    SolanaToken:
      allOf:
        - $ref: '#/components/schemas/AssetCommonProperties'
        - type: object
          required:
            - type
            - blockchain
            - mintAddress
          properties:
            type:
              enum:
                - SplToken
            blockchain:
              $ref: '#/components/schemas/Blockchain'
            mintAddress:
              type: string
      example:
        id: 8d156559-8ecf-4170-acb8-a2cfa76bc3f4
        type: SplToken
        blockchain: Solana
        name: USD Coin
        symbol: USDC
        description: The world's largest regulated stablecoin powering global finance
        decimalPlaces: 6
        mintAddress: EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
    AssetDefinition:
      anyOf:
        - $ref: '#/components/schemas/BucketAsset'
        - $ref: '#/components/schemas/Erc20Token'
        - $ref: '#/components/schemas/Bep20Token'
        - $ref: '#/components/schemas/StellarToken'
        - $ref: '#/components/schemas/ContractBasedToken'
        - $ref: '#/components/schemas/SolanaToken'
    NationalCurrency:
      type: object
      required:
        - nationalCurrencyCode
      properties:
        nationalCurrencyCode:
          $ref: '#/components/schemas/NationalCurrencyCode'
        testAsset:
          type: boolean
    NativeCryptocurrency:
      type: object
      required:
        - cryptocurrencySymbol
      properties:
        blockchain:
          $ref: '#/components/schemas/Blockchain'
        cryptocurrencySymbol:
          $ref: '#/components/schemas/CryptocurrencySymbol'
        testAsset:
          type: boolean
    OtherAssetReference:
      type: object
      required:
        - assetId
      properties:
        assetId:
          description: ID of one of the assets returned in get-additional-assets.
          type: string
    CryptocurrencyReference:
      oneOf:
        - $ref: '#/components/schemas/NativeCryptocurrency'
        - $ref: '#/components/schemas/OtherAssetReference'
    PublicBlockchainCapability:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/CryptocurrencyReference'
        transferMethod:
          enum:
            - PublicBlockchain
    PublicBlockchainAddress:
      allOf:
        - $ref: '#/components/schemas/PublicBlockchainCapability'
        - type: object
          required:
            - address
          properties:
            address:
              type: string
            addressTag:
              type: string
    Rate:
      type: object
      required:
        - rate
        - timestamp
      properties:
        rate:
          type: string
        timestamp:
          type: number
          format: UNIX-timestamp-epoch
          description: In Milliseconds. The timestamp on the creation of the rate.
          example: 1546658861000
    AssetReference:
      oneOf:
        - $ref: '#/components/schemas/NationalCurrency'
        - $ref: '#/components/schemas/NativeCryptocurrency'
        - $ref: '#/components/schemas/OtherAssetReference'
    Blockchain:
      type: string
      enum:
        - Algorand
        - Arbitrum
        - Astar
        - Aurora
        - Avalanche
        - Axelar
        - Base
        - Berachain
        - Bitcoin
        - Bitcoin Cash
        - Bitcoin Cash ABC
        - Bitcoin SV
        - Bitkub Chain
        - BNB
        - Canto
        - Cardano
        - Celestia
        - Celo
        - Chiliz Chain
        - Chiliz Legacy Chain
        - Cortex
        - Cosmos
        - Dash
        - Dogecoin
        - DYDX
        - eCash
        - EOS
        - Ethereum
        - Ethereum Classic
        - EthereumPoW
        - Evmos
        - Fantom Opera
        - Flare
        - Hedera
        - HT Chain
        - KAVA
        - Kusama
        - Litecoin
        - Moonbeam
        - Moonriver
        - NEAR Protocol
        - NEM NIS1
        - Oasys
        - Optimism
        - Osmosis
        - Palm
        - Polkadot
        - Polygon PoS
        - Ronin
        - RSK
        - Shimmer
        - Solana
        - Songbird Canary-Network
        - Stellar
        - SX Network
        - Terra 2.0
        - Terra Classic
        - Tezos
        - TON
        - TokenEX
        - TRON
        - Velas
        - WEMIX
        - XDB Chain
        - XinFin Network
        - XRP
        - ZCash
    CryptocurrencySymbol:
      type: string
      enum:
        - ADA
        - ALGO
        - ARB
        - ASTR
        - ATOM
        - AURORA
        - AVAX
        - AXL
        - BASE
        - BCH
        - BCHA
        - BITKUB
        - BNB
        - BSV
        - BTC
        - CANTO
        - CELESTIA
        - CELO
        - CHZ
        - CHZ2
        - CTXC
        - DASH
        - DOGE
        - DOT
        - DYDX
        - EOS
        - ETC
        - ETH
        - ETHW
        - EVMOS
        - FLR
        - FTM
        - GLMR
        - HBAR
        - HT
        - KAVA
        - KSM
        - LTC
        - LUNA
        - LUNA2
        - MATIC
        - MOVR
        - NEAR
        - OAS
        - OPT
        - OSMO
        - PALM
        - RON
        - RSK
        - SMR
        - SOL
        - SONGBIRD
        - SXNETWORK
        - TKX
        - TRX
        - VLX
        - WEMIX
        - XDB
        - XDC
        - XEC
        - XEM
        - XLM
        - XRP
        - XTZ
        - ZEC
    NationalCurrencyCode:
      type: string
      description: National currency codes as defined in ISO 4217.
      enum:
        - ADP
        - AED
        - AFA
        - AFN
        - ALK
        - ALL
        - AMD
        - ANG
        - AOA
        - AOK
        - AON
        - AOR
        - ARA
        - ARP
        - ARS
        - ARY
        - ATS
        - AUD
        - AWG
        - AYM
        - AZM
        - BAD
        - BAM
        - BBD
        - BDT
        - BEC
        - BEF
        - BEL
        - BGJ
        - BGK
        - BGL
        - BGN
        - BHD
        - BIF
        - BMD
        - BND
        - BOB
        - BOP
        - BOV
        - BRB
        - BRC
        - BRE
        - BRL
        - BRN
        - BRR
        - BSD
        - BTN
        - BUK
        - BWP
        - BYB
        - BYN
        - BYR
        - BZD
        - CAD
        - CDF
        - CHC
        - CHE
        - CHF
        - CHW
        - CLF
        - CLP
        - CNY
        - COP
        - COU
        - CRC
        - CSD
        - CSJ
        - CSK
        - CUC
        - CUP
        - CVE
        - CYP
        - CZK
        - DDM
        - DEM
        - DJF
        - DKK
        - DOP
        - DZD
        - ECS
        - ECV
        - EEK
        - EGP
        - ERN
        - ESA
        - ESB
        - ESP
        - ETB
        - EUR
        - FIM
        - FJD
        - FKP
        - FRF
        - GBP
        - GEK
        - GEL
        - GHC
        - GHP
        - GHS
        - GIP
        - GMD
        - GNE
        - GNF
        - GNS
        - GQE
        - GRD
        - GTQ
        - GWE
        - GWP
        - GYD
        - HKD
        - HNL
        - HRD
        - HRK
        - HTG
        - HUF
        - IDR
        - IEP
        - ILP
        - ILR
        - ILS
        - INR
        - IQD
        - IRR
        - ISJ
        - ISK
        - ITL
        - JMD
        - JOD
        - JPY
        - KES
        - KGS
        - KHR
        - KMF
        - KPW
        - KRW
        - KWD
        - KYD
        - KZT
        - LAJ
        - LAK
        - LBP
        - LKR
        - LRD
        - LSL
        - LSM
        - LTL
        - LTT
        - LUC
        - LUF
        - LUL
        - LVL
        - LVR
        - LYD
        - MAD
        - MDL
        - MGA
        - MGF
        - MKD
        - MLF
        - MMK
        - MNT
        - MOP
        - MRO
        - MRU
        - MTL
        - MTP
        - MUR
        - MVQ
        - MVR
        - MWK
        - MXN
        - MXP
        - MXV
        - MYR
        - MZE
        - MZM
        - NAD
        - NGN
        - NIC
        - NIO
        - NLG
        - NOK
        - NPR
        - NZD
        - OMR
        - PAB
        - PEH
        - PEI
        - PEN
        - PES
        - PGK
        - PHP
        - PKR
        - PLN
        - PLZ
        - PTE
        - PYG
        - QAR
        - RHD
        - ROK
        - ROL
        - RON
        - RSD
        - RUB
        - RUR
        - RWF
        - SAR
        - SBD
        - SCR
        - SDD
        - SDG
        - SDP
        - SEK
        - SGD
        - SHP
        - SIT
        - SKK
        - SLL
        - SOS
        - SRD
        - SRG
        - SSP
        - STD
        - STN
        - SUR
        - SVC
        - SYP
        - SZL
        - THB
        - TJR
        - TJS
        - TMM
        - TMT
        - TND
        - TOP
        - TPE
        - TRL
        - TRY
        - TTD
        - TWD
        - TZS
        - UAH
        - UAK
        - UGS
        - UGW
        - UGX
        - USD
        - USN
        - USS
        - UYI
        - UYN
        - UYP
        - UYU
        - UYW
        - UZS
        - VEB
        - VEF
        - VES
        - VNC
        - VND
        - VUV
        - WST
        - XAF
        - XCD
        - XOF
        - XPF
        - XSU
        - XTS
        - XUA
        - XXX
        - YDD
        - YER
        - YUD
        - YUM
        - YUN
        - ZAL
        - ZAR
        - ZMK
        - ZMW
        - ZRN
        - ZRZ
        - ZWC
        - ZWD
        - ZWL
        - ZWN
        - ZWR
    QuoteCapability:
      type: object
      required:
        - id
        - fromAsset
        - toAsset
      properties:
        id:
          type: string
        fromAsset:
          $ref: '#/components/schemas/AssetReference'
        toAsset:
          $ref: '#/components/schemas/AssetReference'
    QuoteCapabilities:
      type: object
      required:
        - capabilities
      properties:
        capabilities:
          type: array
          items:
            $ref: '#/components/schemas/QuoteCapability'
    QuoteStatus:
      type: string
      enum:
        - ready
        - executing
        - executed
        - expired
    QuoteRequest:
      type: object
      allOf:
        - type: object
          required:
            - fromAsset
            - toAsset
          properties:
            fromAsset:
              $ref: '#/components/schemas/AssetReference'
            toAsset:
              $ref: '#/components/schemas/AssetReference'
        - oneOf:
            - type: object
              required:
                - fromAmount
              properties:
                fromAmount:
                  $ref: '#/components/schemas/PositiveAmount'
            - type: object
              required:
                - toAmount
              properties:
                toAmount:
                  $ref: '#/components/schemas/PositiveAmount'
    Quote:
      type: object
      required:
        - id
        - fromAsset
        - fromAmount
        - toAsset
        - toAmount
        - conversionFeeBps
        - status
        - createdAt
        - expiresAt
      properties:
        id:
          type: string
        fromAsset:
          $ref: '#/components/schemas/AssetReference'
        fromAmount:
          $ref: '#/components/schemas/PositiveAmount'
        toAsset:
          $ref: '#/components/schemas/AssetReference'
        toAmount:
          $ref: '#/components/schemas/PositiveAmount'
        conversionFeeBps:
          type: integer
          description: Conversion fee in basis points. The amounts are expected to include the fee.
        conversionFeeAsset:
          allOf:
            - $ref: '#/components/schemas/AssetReference'
            - description: |
                This is the asset that will be used to pay the conversion fee. If not returned, the asset will be the same as the fromAsset.
        status:
          $ref: '#/components/schemas/QuoteStatus'
        createdAt:
          description: Quote creation time.
          type: string
          format: date-time
        expiresAt:
          description: Quote expiration time.
          type: string
          format: date-time
    AccountHolderDetails:
      type: object
      required:
        - name
      properties:
        name:
          description: Full name of the account holder.
          type: string
        city:
          type: string
        country:
          description: Country code, as specified in ISO 3166-1 alpha-2.
          type: string
        subdivision:
          description: Country administrative subdivision, as specified in ISO 3166-2.
          type: string
        address:
          description: Account holder street address.
          type: string
        postalCode:
          type: string
    Iban:
      type: string
      pattern: ^[A-Z]{2}\d{2}[a-zA-Z0-9]{1,30}$
    IbanCapability:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        transferMethod:
          enum:
            - Iban
    IbanAddress:
      allOf:
        - $ref: '#/components/schemas/IbanCapability'
        - type: object
          required:
            - accountHolder
            - iban
          properties:
            accountHolder:
              $ref: '#/components/schemas/AccountHolderDetails'
            iban:
              $ref: '#/components/schemas/Iban'
    IbanTransferDestination:
      allOf:
        - $ref: '#/components/schemas/IbanAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    IbanTransfer:
      allOf:
        - $ref: '#/components/schemas/IbanTransferDestination'
        - type: object
          properties:
            referenceId:
              type: string
    AchCapability:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        transferMethod:
          enum:
            - Ach
    AchAddress:
      allOf:
        - $ref: '#/components/schemas/AchCapability'
        - type: object
          required:
            - accountHolder
            - routingNumber
            - bankAccountNumber
            - accountType
          properties:
            accountHolder:
              $ref: '#/components/schemas/AccountHolderDetails'
            bankName:
              type: string
            bankAccountNumber:
              $ref: '#/components/schemas/BankAccountNumber'
            routingNumber:
              $ref: '#/components/schemas/RoutingNumber'
            accountType:
              type: string
              enum:
                - Checking
                - Savings
    AchTransferDestination:
      allOf:
        - $ref: '#/components/schemas/AchAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    AchTransfer:
      allOf:
        - $ref: '#/components/schemas/AchTransferDestination'
        - type: object
          properties:
            referenceId:
              type: string
    WireCapability:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        transferMethod:
          enum:
            - Wire
    WireAddress:
      allOf:
        - $ref: '#/components/schemas/WireCapability'
        - type: object
          required:
            - accountHolder
            - routingNumber
            - bankAccountNumber
          properties:
            accountHolder:
              $ref: '#/components/schemas/AccountHolderDetails'
            bankName:
              type: string
            bankAccountNumber:
              $ref: '#/components/schemas/BankAccountNumber'
            routingNumber:
              $ref: '#/components/schemas/RoutingNumber'
            bankAddress:
              $ref: '#/components/schemas/PostalAddress'
    WireTransferDestination:
      allOf:
        - $ref: '#/components/schemas/WireAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    WireTransfer:
      allOf:
        - $ref: '#/components/schemas/WireTransferDestination'
        - type: object
          properties:
            referenceId:
              type: string
    SpeiCapability:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        transferMethod:
          enum:
            - Spei
    SpeiAddress:
      allOf:
        - $ref: '#/components/schemas/SpeiCapability'
        - type: object
          required:
            - accountHolder
            - bankAccountNumber
          properties:
            accountHolder:
              $ref: '#/components/schemas/AccountHolderDetails'
            bankName:
              type: string
            bankAccountNumber:
              $ref: '#/components/schemas/Clabe'
    BankAccountNumber:
      type: string
      pattern: ^\d{4,17}$
    RoutingNumber:
      type: string
      pattern: ^\d{9}$
    Clabe:
      type: string
      pattern: ^\d{18}$
    SpeiTransferDestination:
      allOf:
        - $ref: '#/components/schemas/SpeiAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    SpeiTransfer:
      allOf:
        - $ref: '#/components/schemas/SpeiTransferDestination'
        - type: object
          properties:
            referenceId:
              type: string
    PixCapability:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        transferMethod:
          type: string
          enum:
            - Pix
    PixKey:
      type: object
      required:
        - type
        - value
      properties:
        type:
          type: string
          example: email
          enum:
            - cpf
            - cnpj
            - email
            - phone
            - random
        value:
          type: string
          description: PIX value
          example: merchant@example.com
    Pix:
      type: object
      required:
        - key
      properties:
        key:
          $ref: '#/components/schemas/PixKey'
        qrCode:
          type: string
          description: PIX QR code
          example: 00020126580014br.gov.bcb.pix0136123e4567-e12b-12d1-a456-426655440000520400005303986540510.005802BR5913ACME BRASIL6009SAO PAULO62070503***6304ABCD
        expirationDate:
          type: string
          description: Expiration for PIX CobranÃ§a (optional, ISO 8601 format)
          example: '2025-12-10T23:59:59Z'
    PixAddress:
      allOf:
        - $ref: '#/components/schemas/PixCapability'
        - type: object
          required:
            - accountHolder
            - pix
          properties:
            accountHolder:
              $ref: '#/components/schemas/AccountHolderDetails'
            pix:
              $ref: '#/components/schemas/Pix'
    PixTransferDestination:
      allOf:
        - $ref: '#/components/schemas/PixAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    PixTransfer:
      allOf:
        - $ref: '#/components/schemas/PixTransferDestination'
        - type: object
          properties:
            referenceId:
              type: string
    EuropeanSEPACapability:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        transferMethod:
          type: string
          enum:
            - EuropeanSEPA
    EuropeanSEPAAddress:
      allOf:
        - $ref: '#/components/schemas/EuropeanSEPACapability'
        - type: object
          required:
            - accountHolder
            - iban
          properties:
            accountHolder:
              $ref: '#/components/schemas/AccountHolderDetails'
            iban:
              $ref: '#/components/schemas/Iban'
            bic:
              type: string
              description: Bank Identifier Code (SWIFT/BIC)
            bankName:
              type: string
            bankBranch:
              type: string
            bankAddress:
              type: string
            purposeCode:
              type: string
              description: ISO purpose code for the transfer
            taxId:
              type: string
              description: Beneficiary tax identification number
    EuropeanSEPATransferDestination:
      allOf:
        - $ref: '#/components/schemas/EuropeanSEPAAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    EuropeanSEPATransfer:
      allOf:
        - $ref: '#/components/schemas/EuropeanSEPATransferDestination'
        - type: object
          properties:
            referenceId:
              type: string
    MobileMoneyCapability:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        transferMethod:
          type: string
          enum:
            - Momo
    MobilePhoneNumber:
      type: string
      pattern: ^\+[1-9]\d{1,14}$
      description: Mobile phone number in E.164 format
    MobileMoneyAddress:
      allOf:
        - $ref: '#/components/schemas/MobileMoneyCapability'
        - type: object
          required:
            - mobilePhoneNumber
            - provider
            - email
          properties:
            mobilePhoneNumber:
              $ref: '#/components/schemas/MobilePhoneNumber'
            email:
              type: string
              format: email
            provider:
              type: string
              enum:
                - m-pesa
                - airtel
                - mtn
                - tigo
                - orange
                - wave
              description: Mobile money provider
    MobileMoneyAddressWithBeneficiaryInfo:
      allOf:
        - $ref: '#/components/schemas/MobileMoneyAddress'
        - type: object
          required:
            - accountHolder
          properties:
            accountHolder:
              $ref: '#/components/schemas/AccountHolderDetails'
            beneficiaryDocumentId:
              type: string
              description: Beneficiary document identification (may be required)
            beneficiaryRelationship:
              type: string
              description: Relationship to beneficiary for AML purposes
            redirect:
              $ref: '#/components/schemas/Redirect'
    MobileMoneyTransferDestination:
      allOf:
        - $ref: '#/components/schemas/MobileMoneyAddressWithBeneficiaryInfo'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    MobileMoneyTransfer:
      allOf:
        - $ref: '#/components/schemas/MobileMoneyTransferDestination'
        - type: object
          properties:
            referenceId:
              type: string
    LocalBankTransferCapability:
      description: Local Bank Transfer Capability
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        transferMethod:
          type: string
          enum:
            - Lbt
    LocalBankTransferAddress:
      allOf:
        - $ref: '#/components/schemas/LocalBankTransferCapability'
        - type: object
          required:
            - accountHolder
            - accountNumber
            - bankName
            - bankCode
          properties:
            accountHolder:
              $ref: '#/components/schemas/AccountHolderDetails'
            accountNumber:
              $ref: '#/components/schemas/BankAccountNumber'
            bankName:
              type: string
              description: Name of the bank
            bankCode:
              type: string
              description: Internal bank identifier
            redirect:
              $ref: '#/components/schemas/Redirect'
    Redirect:
      type: object
      properties:
        url:
          type: string
          description: URL to redirect to
          example: https://yellowcard.example.com/authorize?token=abc123&transactionId=16b8b2c3-bd61-4745-9c48-3d30c2bc6907
        expiresAt:
          type: string
          description: Expiration date of the redirect
          example: '2025-01-15T12:00:00Z'
    LocalBankTransferDestination:
      allOf:
        - $ref: '#/components/schemas/LocalBankTransferAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    LocalBankTransfer:
      allOf:
        - $ref: '#/components/schemas/LocalBankTransferDestination'
        - type: object
          properties:
            referenceId:
              type: string
    PayIdCapability:
      description: PayId Transfer Capability
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        transferMethod:
          type: string
          enum:
            - PayId
    PayId:
      type: object
      required:
        - type
        - value
      properties:
        type:
          type: string
          enum:
            - EMAIL
        value:
          type: string
          description: PayId value
          example: merchant@example.com
        bsb:
          type: string
          description: BSB value
          example: '062000'
        accountNumber:
          type: string
          description: Account number value
    PayIdAddress:
      allOf:
        - $ref: '#/components/schemas/PayIdCapability'
        - type: object
          required:
            - accountHolder
            - payId
          properties:
            accountHolder:
              $ref: '#/components/schemas/AccountHolderDetails'
            payId:
              $ref: '#/components/schemas/PayId'
    PayIdTransferDestination:
      allOf:
        - $ref: '#/components/schemas/PayIdAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    PayIdTransfer:
      allOf:
        - $ref: '#/components/schemas/PayIdTransferDestination'
        - type: object
          properties:
            referenceId:
              type: string
    InteracCapability:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        transferMethod:
          type: string
          enum:
            - Interac
    RecipientHandle:
      type: object
      required:
        - type
        - value
      properties:
        type:
          type: string
          enum:
            - EMAIL
            - PHONE
        value:
          type: string
          description: Recipient value
          example: merchant@example.com
    InteracTransferDetails:
      type: object
      required:
        - autoDeposit
        - recipientHandle
      properties:
        recipientHandle:
          $ref: '#/components/schemas/RecipientHandle'
        autoDeposit:
          type: boolean
        securityQuestion:
          description: if autoDeposit is false, this is required
          type: string
        securityAnswer:
          type: string
          description: if autoDeposit is false, this is required
        message:
          type: string
    InteracAddress:
      allOf:
        - $ref: '#/components/schemas/InteracCapability'
        - type: object
          required:
            - accountHolder
            - interacTransfer
          properties:
            accountHolder:
              $ref: '#/components/schemas/AccountHolderDetails'
            interacTransfer:
              $ref: '#/components/schemas/InteracTransferDetails'
    InteracDestination:
      allOf:
        - $ref: '#/components/schemas/InteracAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    InteracTransfer:
      allOf:
        - $ref: '#/components/schemas/InteracDestination'
        - type: object
          properties:
            referenceId:
              type: string
    OtherFiatTransfer:
      type: object
      description: Used for historic fiat transfers that do not fit a more specific transfer method.  It is impossible to create new deposits or withdrawal of this type using this API.
      required:
        - transferMethod
        - asset
        - amount
        - description
      properties:
        transferMethod:
          enum:
            - OtherFiat
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        amount:
          $ref: '#/components/schemas/PositiveAmount'
        description:
          type: string
        tag:
          type: string
        referenceId:
          type: string
    FiatCapability:
      oneOf:
        - $ref: '#/components/schemas/IbanCapability'
        - $ref: '#/components/schemas/AchCapability'
        - $ref: '#/components/schemas/WireCapability'
        - $ref: '#/components/schemas/SpeiCapability'
        - $ref: '#/components/schemas/PixCapability'
        - $ref: '#/components/schemas/EuropeanSEPACapability'
        - $ref: '#/components/schemas/LocalBankTransferCapability'
        - $ref: '#/components/schemas/MobileMoneyCapability'
        - $ref: '#/components/schemas/PayIdCapability'
        - $ref: '#/components/schemas/InteracCapability'
    PublicBlockchainTransactionDestination:
      type: object
      allOf:
        - $ref: '#/components/schemas/PublicBlockchainAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    PublicBlockchainTransaction:
      type: object
      allOf:
        - $ref: '#/components/schemas/PublicBlockchainTransactionDestination'
        - type: object
          properties:
            blockchainTxId:
              type: string
    PeerAccountTransferCapability:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/AssetReference'
        transferMethod:
          enum:
            - PeerAccountTransfer
    InternalTransferMethod:
      type: object
      required:
        - asset
        - transferMethod
      properties:
        asset:
          $ref: '#/components/schemas/AssetReference'
        transferMethod:
          enum:
            - InternalTransfer
    InternalTransferCapability:
      type: object
      allOf:
        - $ref: '#/components/schemas/InternalTransferMethod'
        - type: object
          required:
            - destinationPolicy
          properties:
            destinationPolicy:
              $ref: '#/components/schemas/InternalTransferDestinationPolicy'
    InternalTransferDestinationPolicy:
      enum:
        - AnyAccount
        - DirectParentAccount
      description: |-
        Indicates the transfer destination policy:
          `AnyAccount`: Transfer is possible to any account of the same user.
          `DirectParentAccount`: Transfer is possible for the direct parent only.
    PeerAccountTransferAddress:
      type: object
      allOf:
        - $ref: '#/components/schemas/PeerAccountTransferCapability'
        - type: object
          required:
            - accountId
          properties:
            accountId:
              type: string
    PeerAccountTransferDestination:
      type: object
      allOf:
        - $ref: '#/components/schemas/PeerAccountTransferAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    InternalTransferAddress:
      type: object
      allOf:
        - $ref: '#/components/schemas/InternalTransferMethod'
        - type: object
          required:
            - accountId
          properties:
            accountId:
              type: string
    InternalTransferDestination:
      type: object
      allOf:
        - $ref: '#/components/schemas/InternalTransferAddress'
        - type: object
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/PositiveAmount'
    PeerAccountTransfer:
      type: object
      allOf:
        - $ref: '#/components/schemas/PeerAccountTransferDestination'
        - type: object
          properties:
            referenceId:
              type: string
    InternalTransfer:
      type: object
      allOf:
        - $ref: '#/components/schemas/InternalTransferDestination'
    TransferCapability:
      oneOf:
        - $ref: '#/components/schemas/PeerAccountTransferCapability'
        - $ref: '#/components/schemas/InternalTransferCapability'
        - $ref: '#/components/schemas/PublicBlockchainCapability'
        - $ref: '#/components/schemas/IbanCapability'
    FiatTransferDestination:
      oneOf:
        - $ref: '#/components/schemas/IbanTransferDestination'
    FiatTransfer:
      oneOf:
        - $ref: '#/components/schemas/IbanTransfer'
        - $ref: '#/components/schemas/OtherFiatTransfer'
    Transfer:
      oneOf:
        - $ref: '#/components/schemas/PeerAccountTransfer'
        - $ref: '#/components/schemas/InternalTransfer'
        - $ref: '#/components/schemas/PublicBlockchainTransaction'
        - $ref: '#/components/schemas/IbanTransfer'
        - $ref: '#/components/schemas/OtherFiatTransfer'
    DepositDestination:
      oneOf:
        - $ref: '#/components/schemas/PublicBlockchainAddress'
        - $ref: '#/components/schemas/IbanAddress'
        - $ref: '#/components/schemas/PeerAccountTransferAddress'
        - $ref: '#/components/schemas/InternalTransferAddress'
    FiatAddress:
      oneOf:
        - $ref: '#/components/schemas/IbanAddress'
        - $ref: '#/components/schemas/AchAddress'
        - $ref: '#/components/schemas/WireAddress'
        - $ref: '#/components/schemas/SpeiAddress'
        - $ref: '#/components/schemas/PixAddress'
        - $ref: '#/components/schemas/EuropeanSEPAAddress'
        - $ref: '#/components/schemas/LocalBankTransferAddress'
        - $ref: '#/components/schemas/MobileMoneyAddressWithBeneficiaryInfo'
        - $ref: '#/components/schemas/PayIdAddress'
        - $ref: '#/components/schemas/InteracAddress'
    DepositAddressStatus:
      enum:
        - enabled
        - disabled
    DepositAddress:
      type: object
      required:
        - id
        - destination
        - status
      properties:
        id:
          type: string
        destination:
          $ref: '#/components/schemas/DepositDestination'
        status:
          $ref: '#/components/schemas/DepositAddressStatus'
    DepositAddressCreationRequest:
      type: object
      required:
        - idempotencyKey
        - transferMethod
      properties:
        idempotencyKey:
          type: string
        transferMethod:
          oneOf:
            - $ref: '#/components/schemas/PublicBlockchainCapability'
            - $ref: '#/components/schemas/IbanCapability'
    DepositCapability:
      type: object
      description: Capability to deposit to a balance asset using a specific transfer capability. `addressCreationPolicy` determines whether new deposit addresses could be requested for this deposit capability.
      required:
        - id
        - deposit
        - balanceAsset
        - addressCreationPolicy
      properties:
        id:
          type: string
        deposit:
          $ref: '#/components/schemas/TransferCapability'
        balanceAsset:
          $ref: '#/components/schemas/AssetReference'
        addressCreationPolicy:
          $ref: '#/components/schemas/DepositAddressCreationPolicy'
    Deposit:
      type: object
      required:
        - id
        - balanceAsset
        - balanceAmount
        - source
        - status
        - createdAt
      properties:
        id:
          type: string
        balanceAsset:
          $ref: '#/components/schemas/AssetReference'
        balanceAmount:
          $ref: '#/components/schemas/PositiveAmount'
        source:
          $ref: '#/components/schemas/Transfer'
        depositAddressId:
          type: string
          description: ID of the deposit address, created by posting /transfers/deposits/addresses
        status:
          $ref: '#/components/schemas/DepositStatus'
        createdAt:
          description: Time when the deposit was created.
          type: string
          format: date-time
        finalizedAt:
          description: Time when the deposit reached a final state.
          type: string
          format: date-time
    WithdrawalCapability:
      type: object
      description: Capability to withdraw a balance asset using a specific transfer capability. `minWithdrawalAmount` is the minimum amount of the balance currency that can be withdrawn using this capability. If `minWithdrawalAmount` is not specified, it will be assumed that the minimum withdrawal amount is zero.
      required:
        - id
        - withdrawal
        - balanceAsset
      properties:
        id:
          type: string
        withdrawal:
          $ref: '#/components/schemas/TransferCapability'
        balanceAsset:
          $ref: '#/components/schemas/AssetReference'
        minWithdrawalAmount:
          $ref: '#/components/schemas/PositiveAmount'
    PostalAddress:
      type: object
      description: A postal address in free-form text, containing details like street, building number, postal code, city, subdivision, and  country.
      properties:
        streetName:
          description: Name of a street or thoroughfare
          type: string
        buildingNumber:
          description: Number that identifies the position of a building on a street
          type: string
        postalCode:
          description: Identifier consisting of a group of letters and/or numbers added to a postal address to assist the sorting of mail
          type: string
        city:
          description: Name of a built-up area, with defined boundaries, and a local government.
          type: string
        subdivision:
          description: Identifies a subdivision of a country such as state, region, or province.
          type: string
        district:
          description: Identifies a subdivision within a country subdivision
          type: string
        country:
          $ref: '#/components/schemas/CountryAlpha2Code'
    FullName:
      type: object
      description: Contains the first name and last name of a person.
      properties:
        firstName:
          type: string
        lastName:
          type: string
    PersonaIdentificationInfo:
      type: object
      description: Individual information about the beneficiary of the transaction.
      properties:
        externalReferenceId:
          type: string
          description: A unique identifier assigned by an external system to track the transaction or entity across different platforms.
        entityType:
          type: string
          enum:
            - Individual
        participantRelationshipType:
          $ref: '#/components/schemas/ParticipantRelationshipType'
        fullName:
          $ref: '#/components/schemas/FullName'
        dateOfBirth:
          type: string
          format: date
          example: '1999-01-01'
        postalAddress:
          $ref: '#/components/schemas/PostalAddress'
        email:
          type: string
          format: email
          example: john.doe@example.com
        phone:
          $ref: '#/components/schemas/MobilePhoneNumber'
    BusinessIdentificationInfo:
      type: object
      description: Information related to the business entity acting as the beneficiary of the transaction.
      properties:
        externalReferenceId:
          type: string
          description: A unique identifier assigned by an external system to track the transaction or entity across different platforms.
        entityType:
          type: string
          enum:
            - Business
        participantRelationshipType:
          $ref: '#/components/schemas/ParticipantRelationshipType'
        businessName:
          type: string
          description: The legal name of the business entity as registered with the relevant authorities.
        registrationNumber:
          type: string
          description: A unique identifier assigned to the business entity by the relevant regulatory authority, often used for tax and legal purposes.
        postalAddress:
          $ref: '#/components/schemas/PostalAddress'
        email:
          type: string
          format: email
          example: john.doe@example.com
        phone:
          $ref: '#/components/schemas/MobilePhoneNumber'
    ParticipantsIdentification:
      type: object
      description: |
        An object that ensures the inclusion of either the originator or  beneficiary details for transactions.
      properties:
        originator:
          description: Information about the originator of the transaction.
          oneOf:
            - $ref: '#/components/schemas/PersonaIdentificationInfo'
            - $ref: '#/components/schemas/BusinessIdentificationInfo'
        beneficiary:
          description: Information about the beneficiary of the transaction.
          oneOf:
            - $ref: '#/components/schemas/PersonaIdentificationInfo'
            - $ref: '#/components/schemas/BusinessIdentificationInfo'
    WithdrawalRequestCommonProperties:
      type: object
      required:
        - idempotencyKey
        - balanceAmount
      properties:
        idempotencyKey:
          type: string
        balanceAmount:
          $ref: '#/components/schemas/PositiveAmount'
    FiatWithdrawalRequest:
      allOf:
        - $ref: '#/components/schemas/WithdrawalRequestCommonProperties'
        - type: object
          required:
            - balanceAsset
            - destination
          properties:
            balanceAsset:
              $ref: '#/components/schemas/AssetReference'
            destination:
              $ref: '#/components/schemas/FiatTransferDestination'
    BlockchainWithdrawalRequest:
      allOf:
        - $ref: '#/components/schemas/WithdrawalRequestCommonProperties'
        - type: object
          required:
            - balanceAsset
            - destination
          properties:
            balanceAsset:
              $ref: '#/components/schemas/AssetReference'
            destination:
              $ref: '#/components/schemas/PublicBlockchainTransactionDestination'
            participantsIdentification:
              $ref: '#/components/schemas/ParticipantsIdentification'
    PeerAccountWithdrawalRequest:
      allOf:
        - $ref: '#/components/schemas/WithdrawalRequestCommonProperties'
        - type: object
          required:
            - balanceAsset
            - destination
          properties:
            balanceAsset:
              $ref: '#/components/schemas/AssetReference'
            destination:
              $ref: '#/components/schemas/PeerAccountTransferDestination'
    InternalWithdrawalRequest:
      allOf:
        - $ref: '#/components/schemas/WithdrawalRequestCommonProperties'
        - type: object
          required:
            - balanceAsset
            - destination
          properties:
            balanceAsset:
              $ref: '#/components/schemas/AssetReference'
            destination:
              $ref: '#/components/schemas/InternalTransferDestination'
    WithdrawalCommonProperties:
      type: object
      required:
        - id
        - balanceAsset
        - balanceAmount
        - status
        - createdAt
      properties:
        id:
          type: string
        balanceAsset:
          $ref: '#/components/schemas/AssetReference'
        balanceAmount:
          $ref: '#/components/schemas/PositiveAmount'
        status:
          $ref: '#/components/schemas/WithdrawalStatus'
        createdAt:
          description: Time when the withdrawal was created.
          type: string
          format: date-time
        finalizedAt:
          description: Time when the withdrawal reached a final state.
          type: string
          format: date-time
        events:
          type: array
          items:
            $ref: '#/components/schemas/WithdrawalEvent'
    FiatWithdrawal:
      allOf:
        - $ref: '#/components/schemas/WithdrawalCommonProperties'
        - type: object
          required:
            - destination
          properties:
            destination:
              $ref: '#/components/schemas/FiatTransfer'
    BlockchainWithdrawal:
      allOf:
        - $ref: '#/components/schemas/WithdrawalCommonProperties'
        - type: object
          required:
            - destination
          properties:
            destination:
              $ref: '#/components/schemas/PublicBlockchainTransaction'
    PeerAccountWithdrawal:
      allOf:
        - $ref: '#/components/schemas/WithdrawalCommonProperties'
        - type: object
          required:
            - destination
          properties:
            destination:
              $ref: '#/components/schemas/PeerAccountTransfer'
    InternalWithdrawal:
      allOf:
        - $ref: '#/components/schemas/WithdrawalCommonProperties'
        - type: object
          required:
            - destination
          properties:
            destination:
              $ref: '#/components/schemas/InternalTransfer'
    Withdrawal:
      oneOf:
        - $ref: '#/components/schemas/PeerAccountWithdrawal'
        - $ref: '#/components/schemas/InternalWithdrawal'
        - $ref: '#/components/schemas/BlockchainWithdrawal'
        - $ref: '#/components/schemas/FiatWithdrawal'
    WithdrawalEvent:
      type: object
      description: Describes an event during withdrawal processing. The granularity and verbosity of the events it at the discretion of the API implementor.
      required:
        - status
        - message
        - createdAt
      properties:
        status:
          $ref: '#/components/schemas/WithdrawalStatus'
        message:
          type: string
        createdAt:
          description: Time when the withdrawal was created.
          type: string
          format: date-time
    DepositStatus:
      enum:
        - pending
        - succeeded
        - failed
    WithdrawalStatus:
      enum:
        - pending
        - succeeded
        - failed
    DepositAddressCreationPolicy:
      enum:
        - CanCreate
        - CannotCreate
    ParticipantRelationshipType:
      description: Defines the relationship between the originator and the beneficiary in a transaction.
      enum:
        - FirstParty
        - SecondParty
        - ThirdParty
    CountryAlpha2Code:
      type: string
      description: Alpha-2 country codes as defined in ISO 3166.
      enum:
        - US
        - AL
        - DZ
        - AS
        - AD
        - AO
        - AI
        - AQ
        - AG
        - AR
        - AM
        - AW
        - AU
        - AT
        - AZ
        - BS
        - BH
        - BD
        - BB
        - BY
        - BE
        - BZ
        - BJ
        - BM
        - BT
        - BO
        - BQ
        - BA
        - BW
        - BV
        - BR
        - IO
        - BN
        - BG
        - BF
        - BI
        - CV
        - KH
        - CM
        - CA
        - KY
        - CF
        - TD
        - CL
        - CN
        - CX
        - CC
        - CO
        - KM
        - CD
        - CG
        - CK
        - CR
        - HR
        - CU
        - CW
        - CY
        - CZ
        - CI
        - DK
        - DJ
        - DM
        - DO
        - EC
        - EG
        - SV
        - GQ
        - ER
        - EE
        - SZ
        - ET
        - FK
        - FO
        - FJ
        - FI
        - FR
        - GF
        - PF
        - TF
        - GA
        - GM
        - GE
        - DE
        - GH
        - GI
        - GR
        - GL
        - GD
        - GP
        - GU
        - GT
        - GG
        - GN
        - GW
        - GY
        - HT
        - HM
        - VA
        - HN
        - HK
        - HU
        - IS
        - IN
        - ID
        - IR
        - IQ
        - IE
        - IM
        - IL
        - IT
        - JM
        - JP
        - JE
        - JO
        - KZ
        - KE
        - KI
        - KP
        - KR
        - KW
        - KG
        - LA
        - LV
        - LB
        - LS
        - LR
        - LY
        - LI
        - LT
        - LU
        - MO
        - MG
        - MW
        - MY
        - MV
        - ML
        - MT
        - MH
        - MQ
        - MR
        - MU
        - YT
        - MX
        - FM
        - MD
        - MC
        - MN
        - ME
        - MS
        - MA
        - MZ
        - MM
        - NA
        - NR
        - NP
        - NL
        - NC
        - NZ
        - NI
        - NE
        - NG
        - NU
        - NF
        - MP
        - NO
        - OM
        - PK
        - PW
        - PS
        - PA
        - PG
        - PY
        - PE
        - PH
        - PN
        - PL
        - PT
        - PR
        - QA
        - MK
        - RO
        - RU
        - RW
        - RE
        - BL
        - SH
        - KN
        - LC
        - MF
        - PM
        - VC
        - WS
        - SM
        - ST
        - SA
        - SN
        - SR
        - SC
        - SL
        - SG
        - SX
        - SK
        - SI
        - SB
        - SO
        - ZA
        - GS
        - SS
        - ES
        - LK
        - SD
        - SJ
        - SE
        - CH
        - SY
        - TW
        - TJ
        - TZ
        - TH
        - TL
        - TG
        - TK
        - TO
        - TT
        - TN
        - TR
        - TM
        - TC
        - TV
        - UG
        - UA
        - AE
        - GB
        - UM
        - UY
        - UZ
        - VU
        - VE
        - VN
        - VG
        - VI
        - WF
        - EH
        - YE
        - ZM
        - ZW
        - AX
        - ZZ
        - XX
        - CS
    CollateralId:
      type: string
      description: Unique string representing the collateral account Id (<cvaTenantId>.<accountId>.<tenantId>)
      example: f861c6ca-f4c8-44dd-a02e-081a38745623.95e40c1e-407e-405c-871e-d69218611a79.4cd3e66b-4ee4-4750-bcfd-d2d43054fc5d
    CollateralSignerId:
      type: string
      description: Unique Id of the collateral signer
      example: 4cd3e66b-4ee4-4750-bcfd-d2d43054fc5d
    AccountEnvironment:
      type: string
      enum:
        - prod
        - sandbox
        - stage
      description: |
        AccountEnvironment field describes which environment is being run at the moment 
    CollateralLinkStatus:
      type: string
      enum:
        - Eligible
        - Linked
        - Disabled
        - Failed
      description: |
        - **Eligible** - The provider account is eligible for linking to a collateral account
        - **Linked** - The provider account is linked to a collateral account
        - **Disabled** - The link is disabled at the moment, but can be re-enabled
        - **Failed** - The link creation failed
    IntentApprovalRequest:
      type: object
      required:
        - fireblocksIntentId
      properties:
        fireblocksIntentId:
          type: string
          description: Fireblocks intent request id.
    ApprovalRequest:
      type: object
      required:
        - fireblocksIntentId
        - partnerIntentId
      properties:
        fireblocksIntentId:
          type: string
          description: Fireblocks intent request id.
        partnerIntentId:
          type: string
          description: Provider intent approval request id.
      description: Approval request object.
    CollateralAccount:
      type: object
      required:
        - collateralId
        - collateralSigners
        - env
      properties:
        collateralId:
          $ref: '#/components/schemas/CollateralId'
        collateralSigners:
          type: array
          items:
            $ref: '#/components/schemas/CollateralSignerId'
        env:
          $ref: '#/components/schemas/AccountEnvironment'
    CollateralAccountLink:
      allOf:
        - type: object
          required:
            - id
            - status
            - eligibleCollateralAssets
          properties:
            id:
              type: string
            status:
              $ref: '#/components/schemas/CollateralLinkStatus'
            eligibleCollateralAssets:
              type: array
              items:
                $ref: '#/components/schemas/CryptocurrencyReference'
            rejectionReason:
              type: string
        - $ref: '#/components/schemas/CollateralAccount'
    CollateralAddress:
      type: object
      required:
        - address
        - recoveryAccountId
      properties:
        address:
          $ref: '#/components/schemas/PublicBlockchainAddress'
        recoveryAccountId:
          type: string
          description: An account ID used when recovering the assets of an off-exchange client
          example: '12'
    CollateralAssetAddress:
      allOf:
        - type: object
          required:
            - id
          properties:
            id:
              type: string
        - $ref: '#/components/schemas/CollateralAddress'
    CollateralDepositAddresses:
      type: object
      required:
        - addresses
      properties:
        addresses:
          type: array
          items:
            $ref: '#/components/schemas/CollateralAssetAddress'
    CollateralTransactionIntentStatus:
      type: string
      enum:
        - Approved
        - Rejected
      description: |
        - **Approved** - The transaction is approved by the provider's
        - **Rejected** - The transaction has been rejected by the provider's
    CollateralDepositTransactionStatus:
      type: string
      enum:
        - Pending
        - Credited
        - Rejected
      description: |
        - **Pending** - The transaction is pending and has not been credited to the provider's account yet
        - **Credited** - The transaction has been completed successfully and the account has been credited
        - **Rejected** - The transaction has been rejected and the account has not been credited
    CollateralDepositTransactionIntentRequest:
      type: object
      required:
        - asset
        - amount
        - intentApprovalRequest
      properties:
        asset:
          $ref: '#/components/schemas/CryptocurrencyReference'
        amount:
          $ref: '#/components/schemas/PositiveAmount'
        intentApprovalRequest:
          $ref: '#/components/schemas/IntentApprovalRequest'
    CollateralDepositTransactionIntentResponse:
      allOf:
        - type: object
          required:
            - id
            - status
            - asset
            - amount
            - approvalRequest
          properties:
            id:
              type: string
            status:
              $ref: '#/components/schemas/CollateralTransactionIntentStatus'
            asset:
              $ref: '#/components/schemas/CryptocurrencyReference'
            amount:
              $ref: '#/components/schemas/PositiveAmount'
            approvalRequest:
              $ref: '#/components/schemas/ApprovalRequest'
            rejectionReason:
              type: string
    CollateralDepositTransactionRequest:
      type: object
      required:
        - collateralTxId
        - approvalRequest
      properties:
        collateralTxId:
          type: string
          description: |
            A unique identifier of the transaction to track. This field will contain information to help the provider poll the status of the transaction from Fireblocks.
          example: 0.8e4cfce8-0182-4c6d-b9dd-a291c105e1d2.0.5a814998-ec0f-4f1c-92bf-fb5f7dc09ea2
        approvalRequest:
          $ref: '#/components/schemas/ApprovalRequest'
    CollateralDepositTransactionResponse:
      allOf:
        - type: object
          required:
            - id
            - status
          properties:
            id:
              type: string
            status:
              $ref: '#/components/schemas/CollateralDepositTransactionStatus'
        - $ref: '#/components/schemas/CollateralDepositTransactionRequest'
    CollateralDepositTransactionsResponse:
      type: object
      required:
        - transactions
      properties:
        transactions:
          type: array
          items:
            $ref: '#/components/schemas/CollateralDepositTransactionResponse'
    CollateralWithdrawalTransactionStatus:
      type: string
      enum:
        - Pending
        - Approved
        - Rejected
      description: |
        - **Pending** - The withdrawal transaction is pending the provider's approval
        - **Approved** - The withdrawal transaction has been approved and it is in progress
        - **Rejected** - The withdrawal transaction has been rejected
    CollateralWithdrawalSettlementTransaction:
      type: object
      description: Represents a collateral withdrawal settlement transaction.  Provide details about a withdrawal transaction in case of a settlement.
      required:
        - settlementId
        - settlementTxId
      properties:
        settlementId:
          type: string
          description: Unique identifier for the settlement.
        settlementTxId:
          type: string
          description: The transaction ID associated with the settlement.
    CollateralWithdrawalTransaction:
      type: object
      required:
        - id
        - status
        - collateralTxId
        - approvalRequest
      properties:
        id:
          type: string
        status:
          $ref: '#/components/schemas/CollateralWithdrawalTransactionStatus'
        collateralTxId:
          type: string
        approvalRequest:
          $ref: '#/components/schemas/ApprovalRequest'
        rejectionReason:
          type: string
    CollateralWithdrawalTransactionIntentRequest:
      type: object
      required:
        - amount
        - destinationAddress
        - intentApprovalRequest
      properties:
        amount:
          $ref: '#/components/schemas/PositiveAmount'
        destinationAddress:
          $ref: '#/components/schemas/PublicBlockchainAddress'
        intentApprovalRequest:
          $ref: '#/components/schemas/IntentApprovalRequest'
    CollateralWithdrawalTransactionRequest:
      type: object
      required:
        - collateralTxId
        - approvalRequest
      properties:
        collateralTxId:
          type: string
        approvalRequest:
          $ref: '#/components/schemas/ApprovalRequest'
        settlementDetails:
          $ref: '#/components/schemas/CollateralWithdrawalSettlementTransaction'
    CollateralWithdrawalTransactionIntentResponse:
      type: object
      required:
        - id
        - status
        - amount
        - destinationAddress
        - approvalRequest
      properties:
        id:
          type: string
        amount:
          $ref: '#/components/schemas/PositiveAmount'
        destinationAddress:
          $ref: '#/components/schemas/PublicBlockchainAddress'
        approvalRequest:
          $ref: '#/components/schemas/ApprovalRequest'
        status:
          $ref: '#/components/schemas/CollateralTransactionIntentStatus'
        rejectionReason:
          type: string
    CollateralWithdrawalTransactions:
      type: object
      required:
        - transactions
      properties:
        transactions:
          type: array
          items:
            $ref: '#/components/schemas/CollateralWithdrawalTransaction'
    SettlementTransactionStatus:
      type: string
      enum:
        - NOT_FOUND
        - PROCESSING
        - CANCELLED
        - FAILED
        - PENDING_MANUAL_APPROVAL
        - PENDING_SERVICE_MANUAL_APPROVAL
        - REJECTED
        - COMPLETED
      description: |
        - **NOT_FOUND** - The transaction was not found
        - **PROCESSING** - The transaction is being processed
        - **CANCELLED** - The transaction was cancelled
        - **FAILED** - The transaction failed
        - **PENDING_MANUAL_APPROVAL** - The transaction is pending manual approval
        - **PENDING_SERVICE_MANUAL_APPROVAL** - The transaction is pending service manual approval
        - **REJECTED** - The transaction was rejected
        - **COMPLETED** - The transaction was completed
    SettlementWithdrawInstruction:
      type: object
      required:
        - amount
        - sourceAddress
      properties:
        amount:
          $ref: '#/components/schemas/PositiveAmount'
        fee:
          $ref: '#/components/schemas/PositiveAmount'
        sourceAddress:
          $ref: '#/components/schemas/PublicBlockchainAddress'
    SettlementDepositInstruction:
      type: object
      required:
        - amount
        - destinationAddress
      properties:
        amount:
          $ref: '#/components/schemas/PositiveAmount'
        destinationAddress:
          $ref: '#/components/schemas/PublicBlockchainAddress'
    SettlementWithdrawTransaction:
      allOf:
        - $ref: '#/components/schemas/SettlementWithdrawInstruction'
        - type: object
          required:
            - status
          properties:
            status:
              $ref: '#/components/schemas/SettlementTransactionStatus'
            rejectionReason:
              type: string
    SettlementDepositTransaction:
      allOf:
        - $ref: '#/components/schemas/SettlementDepositInstruction'
        - type: object
          required:
            - status
          properties:
            status:
              $ref: '#/components/schemas/SettlementTransactionStatus'
            rejectionReason:
              type: string
    SettlementInstructions:
      type: object
      required:
        - settlementVersion
        - withdrawInstructions
        - depositInstructions
      properties:
        settlementVersion:
          type: string
        withdrawInstructions:
          type: array
          items:
            $ref: '#/components/schemas/SettlementWithdrawInstruction'
        depositInstructions:
          type: array
          items:
            $ref: '#/components/schemas/SettlementDepositInstruction'
    SettlementState:
      type: object
      required:
        - settlementVersion
        - status
      properties:
        settlementVersion:
          type: string
        withdrawTransactions:
          type: array
          items:
            $ref: '#/components/schemas/SettlementWithdrawTransaction'
        depositTransactions:
          type: array
          items:
            $ref: '#/components/schemas/SettlementDepositTransaction'
        status:
          type: string
          enum:
            - Invalid
            - Pending
            - InProgress
            - Completed
            - Failed
          description: |
            - **Invalid** - The settlement state is invalid and cannot be processed, usually due to balance changes
            - **Pending** - The settlement is pending and has not started yet
            - **InProgress** - The settlement is in progress
            - **Completed** - The settlement has been completed successfully
            - **Failed** - The settlement has failed
    SettlementRequest:
      type: object
      description: Settlement to be created
      required:
        - settlementId
        - settlementVersion
      properties:
        settlementId:
          type: string
        settlementVersion:
          type: string
          description: |
            A unique identifier of the settlement state version. This field is optional and can be used to indicate the version of the settlement state the client is referring to.
    RampStatus:
      enum:
        - Pending
        - Processing
        - Canceled
        - Completed
        - Failed
        - Refunded
    PrefundedOnRampCapability:
      type: object
      title: Prefunded Fiat to Crypto
      required:
        - from
        - to
      properties:
        from:
          $ref: '#/components/schemas/PrefundedFiatCapability'
        to:
          $ref: '#/components/schemas/PublicBlockchainCapability'
    OnRampRequestFrom:
      oneOf:
        - $ref: '#/components/schemas/IbanCapability'
        - $ref: '#/components/schemas/AchCapability'
        - $ref: '#/components/schemas/WireCapability'
        - $ref: '#/components/schemas/SpeiCapability'
        - $ref: '#/components/schemas/PixCapability'
        - $ref: '#/components/schemas/EuropeanSEPACapability'
        - $ref: '#/components/schemas/LocalBankTransferCapability'
        - $ref: '#/components/schemas/MobileMoneyAddress'
        - $ref: '#/components/schemas/PayIdCapability'
        - $ref: '#/components/schemas/InteracCapability'
    OnRampCapability:
      type: object
      title: Fiat to Crypto
      required:
        - from
        - to
      properties:
        from:
          $ref: '#/components/schemas/FiatCapability'
        to:
          $ref: '#/components/schemas/PublicBlockchainCapability'
    PrefundedOffRampCapability:
      type: object
      title: Prefunded Crypto to Fiat
      required:
        - from
        - to
      properties:
        from:
          $ref: '#/components/schemas/PrefundedBlockchainCapability'
        to:
          $ref: '#/components/schemas/FiatCapability'
    OffRampCapability:
      type: object
      title: Crypto to Fiat
      required:
        - from
        - to
      properties:
        from:
          $ref: '#/components/schemas/PublicBlockchainCapability'
        to:
          $ref: '#/components/schemas/FiatCapability'
    PrefundedBridgeCapability:
      type: object
      title: Prefunded Crypto to Crypto
      required:
        - from
        - to
      properties:
        from:
          $ref: '#/components/schemas/PrefundedBlockchainCapability'
        to:
          $ref: '#/components/schemas/PublicBlockchainCapability'
    BridgeCapability:
      type: object
      title: Crypto to Crypto
      required:
        - from
        - to
      properties:
        from:
          $ref: '#/components/schemas/PublicBlockchainCapability'
        to:
          $ref: '#/components/schemas/PublicBlockchainCapability'
    RampMethod:
      allOf:
        - type: object
          required:
            - id
          properties:
            id:
              type: string
        - oneOf:
            - $ref: '#/components/schemas/OnRampCapability'
            - $ref: '#/components/schemas/PrefundedOnRampCapability'
            - $ref: '#/components/schemas/OffRampCapability'
            - $ref: '#/components/schemas/PrefundedOffRampCapability'
            - $ref: '#/components/schemas/BridgeCapability'
            - $ref: '#/components/schemas/PrefundedBridgeCapability'
    BlockchainCapabilityWithOptionalAddress:
      title: Blockchain Capability With Address
      allOf:
        - $ref: '#/components/schemas/PublicBlockchainCapability'
        - type: object
          properties:
            address:
              type: string
    PrefundedFiatCapability:
      type: object
      required:
        - asset
        - type
      properties:
        asset:
          $ref: '#/components/schemas/NationalCurrency'
        type:
          type: string
          enum:
            - Prefunded
    PrefundedBlockchainCapability:
      type: object
      required:
        - asset
        - type
      properties:
        asset:
          $ref: '#/components/schemas/CryptocurrencyReference'
        type:
          type: string
          enum:
            - Prefunded
    PrefundedOnRampProperties:
      type: object
      title: On Ramp - Prefunded
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - OnRamp
        from:
          $ref: '#/components/schemas/PrefundedFiatCapability'
        to:
          $ref: '#/components/schemas/PublicBlockchainAddress'
    OnRampProperties:
      type: object
      title: On Ramp
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - OnRamp
        from:
          $ref: '#/components/schemas/FiatCapability'
        to:
          $ref: '#/components/schemas/PublicBlockchainAddress'
    OnRampRequestProperties:
      type: object
      title: On Ramp
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - OnRamp
        from:
          $ref: '#/components/schemas/OnRampRequestFrom'
        to:
          $ref: '#/components/schemas/PublicBlockchainAddress'
    PrefundedOffRampProperties:
      type: object
      title: Off Ramp - Prefunded
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - OffRamp
        from:
          $ref: '#/components/schemas/PrefundedBlockchainCapability'
        to:
          $ref: '#/components/schemas/FiatAddress'
    OffRampProperties:
      type: object
      title: Off Ramp
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - OffRamp
        from:
          $ref: '#/components/schemas/BlockchainCapabilityWithOptionalAddress'
        to:
          $ref: '#/components/schemas/FiatAddress'
    PrefundedBridgeProperties:
      type: object
      title: Bridge - Prefunded
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - Bridge
        from:
          $ref: '#/components/schemas/PrefundedBlockchainCapability'
        to:
          $ref: '#/components/schemas/PublicBlockchainAddress'
    BridgeProperties:
      type: object
      title: Bridge
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - Bridge
        from:
          $ref: '#/components/schemas/BlockchainCapabilityWithOptionalAddress'
        to:
          $ref: '#/components/schemas/PublicBlockchainAddress'
    CommonRampRequestProperties:
      type: object
      required:
        - idempotencyKey
        - amount
      properties:
        idempotencyKey:
          type: string
        amount:
          $ref: '#/components/schemas/PositiveAmount'
    RampRequest:
      allOf:
        - $ref: '#/components/schemas/CommonRampRequestProperties'
        - oneOf:
            - $ref: '#/components/schemas/OnRampRequestProperties'
            - $ref: '#/components/schemas/PrefundedOnRampProperties'
            - $ref: '#/components/schemas/OffRampProperties'
            - $ref: '#/components/schemas/PrefundedOffRampProperties'
            - $ref: '#/components/schemas/BridgeProperties'
            - $ref: '#/components/schemas/PrefundedBridgeProperties'
        - type: object
          properties:
            executionDetails:
              oneOf:
                - $ref: '#/components/schemas/OrderQuote'
        - type: object
          properties:
            participantsIdentification:
              $ref: '#/components/schemas/ParticipantsIdentification'
    FixedFeeAmount:
      type: object
      required:
        - amountType
        - amount
      properties:
        amountType:
          type: string
          enum:
            - FIXED
        amount:
          $ref: '#/components/schemas/PositiveAmount'
    BasisPointsFeeAmount:
      type: object
      required:
        - amountType
        - amount
      properties:
        amountType:
          type: string
          enum:
            - BASIS_POINTS
        amount:
          type: number
          description: Basis points (bps) - 1 is 0.01% and 10000 is 100%
    FeeAmount:
      oneOf:
        - $ref: '#/components/schemas/FixedFeeAmount'
        - $ref: '#/components/schemas/BasisPointsFeeAmount'
    Fee:
      type: object
      required:
        - feeType
        - feeAsset
        - fee
      properties:
        feeType:
          type: string
          description: |
            Specifies the category of fee applied to the transaction. - ORDER - Fee charged by the platform for executing the trade. - NETWORK - Blockchain network fee paid to validators/miners. - SPREAD - Implicit cost built into the price difference between quotes. - REBATE - Negative fee returned to the user as a reward or incentive.
          enum:
            - ORDER
            - NETWORK
            - SPREAD
            - REBATE
        feeAsset:
          $ref: '#/components/schemas/AssetReference'
        fee:
          $ref: '#/components/schemas/FeeAmount'
    RampFees:
      type: array
      items:
        $ref: '#/components/schemas/Fee'
    CommonRamp:
      type: object
      required:
        - id
        - status
        - createdAt
        - updatedAt
        - amount
        - expiresAt
      properties:
        id:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        status:
          $ref: '#/components/schemas/RampStatus'
        amount:
          $ref: '#/components/schemas/PositiveAmount'
        estimatedFees:
          $ref: '#/components/schemas/RampFees'
        executionDetails:
          oneOf:
            - $ref: '#/components/schemas/OrderQuote'
        expiresAt:
          description: Ramp expiration time.
          type: string
          format: date-time
    OnRampPropertiesWithPaymentInstructions:
      type: object
      title: On Ramp
      allOf:
        - type: object
          required:
            - paymentInstructions
          properties:
            paymentInstructions:
              allOf:
                - $ref: '#/components/schemas/FiatAddress'
                - type: object
                  properties:
                    referenceId:
                      type: string
        - $ref: '#/components/schemas/OnRampProperties'
    OffRampPropertiesWithPaymentInstructions:
      type: object
      title: Off Ramp
      allOf:
        - type: object
          required:
            - paymentInstructions
          properties:
            paymentInstructions:
              $ref: '#/components/schemas/PublicBlockchainAddress'
        - $ref: '#/components/schemas/OffRampProperties'
    BridgePropertiesWithPaymentInstructions:
      type: object
      title: Bridge
      allOf:
        - type: object
          required:
            - paymentInstructions
          properties:
            paymentInstructions:
              $ref: '#/components/schemas/PublicBlockchainAddress'
        - $ref: '#/components/schemas/BridgeProperties'
    OnRampReceipt:
      allOf:
        - $ref: '#/components/schemas/PublicBlockchainTransaction'
        - type: object
          properties:
            actualFees:
              $ref: '#/components/schemas/RampFees'
    OffRampReceipt:
      allOf:
        - $ref: '#/components/schemas/RampFiatTransfer'
        - type: object
          properties:
            actualFees:
              $ref: '#/components/schemas/RampFees'
    BridgeReceipt:
      allOf:
        - $ref: '#/components/schemas/PublicBlockchainTransaction'
        - type: object
          properties:
            actualFees:
              $ref: '#/components/schemas/RampFees'
    OnRamp:
      title: On Ramp
      allOf:
        - $ref: '#/components/schemas/CommonRamp'
        - oneOf:
            - $ref: '#/components/schemas/OnRampPropertiesWithPaymentInstructions'
            - $ref: '#/components/schemas/PrefundedOnRampProperties'
        - type: object
          properties:
            receipt:
              $ref: '#/components/schemas/OnRampReceipt'
    OffRamp:
      allOf:
        - $ref: '#/components/schemas/CommonRamp'
        - oneOf:
            - $ref: '#/components/schemas/OffRampPropertiesWithPaymentInstructions'
            - $ref: '#/components/schemas/PrefundedOffRampProperties'
        - type: object
          properties:
            receipt:
              $ref: '#/components/schemas/OffRampReceipt'
    Bridge:
      allOf:
        - $ref: '#/components/schemas/CommonRamp'
        - oneOf:
            - $ref: '#/components/schemas/BridgePropertiesWithPaymentInstructions'
            - $ref: '#/components/schemas/PrefundedBridgeProperties'
        - type: object
          properties:
            receipt:
              $ref: '#/components/schemas/BridgeReceipt'
    Ramp:
      oneOf:
        - $ref: '#/components/schemas/OnRamp'
        - $ref: '#/components/schemas/OffRamp'
        - $ref: '#/components/schemas/Bridge'
    RampFiatTransfer:
      oneOf:
        - $ref: '#/components/schemas/IbanTransfer'
        - $ref: '#/components/schemas/AchTransfer'
        - $ref: '#/components/schemas/WireTransfer'
        - $ref: '#/components/schemas/SpeiTransfer'
        - $ref: '#/components/schemas/PixTransfer'
        - $ref: '#/components/schemas/EuropeanSEPATransfer'
        - $ref: '#/components/schemas/LocalBankTransfer'
        - $ref: '#/components/schemas/MobileMoneyTransfer'
        - $ref: '#/components/schemas/PayIdTransfer'
        - $ref: '#/components/schemas/InteracTransfer'
    OrderQuote:
      type: object
      required:
        - type
        - quoteId
      properties:
        type:
          type: string
          enum:
            - Quote
        quoteId:
          type: string
        reQuote:
          oneOf:
            - $ref: '#/components/schemas/Retry'
            - $ref: '#/components/schemas/Market'
    Retry:
      type: object
      required:
        - type
        - slippage
      properties:
        type:
          type: string
          enum:
            - Retry
        slippage:
          type: number
          description: Slippage tolerance in basis points (bps) for quote orders - 1 is 0.01% and 10000 is 100%
        count:
          type: number
          description: If quote is expired, how many times to re-generate new quotes to try having the order executed as in the original quote.
    Market:
      type: object
      required:
        - type
      properties:
        type:
          type: string
          enum:
            - Market
  securitySchemes: {}
