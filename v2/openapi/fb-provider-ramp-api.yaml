openapi: 3.0.0
info:
  title: "Fireblocks Provider Ramps API"
  version: 0.0.1

  contact:
    name: Fireblocks
    url: https://fireblocks.com

tags:
  - name: capabilities
    description: Server capabilities discovery operations.
  - name: ramps
    description: |-
      Beta Feature â€“ Limited Access.

      On-ramp, off-ramp and bridging operations.

x-path-params:
  EntityIdPathParam:
    { $ref: "./fb-provider-api.yaml#/components/parameters/EntityIdPathParam" }
  SubAccountIdPathParam:
    {
      $ref: "./fb-provider-api.yaml#/components/parameters/SubAccountIdPathParam",
    }

x-query-params:
  PaginationLimit:
    { $ref: "./fb-provider-api.yaml#/components/parameters/PaginationLimit" }
  PaginationStartingAfter:
    {
      $ref: "./fb-provider-api.yaml#/components/parameters/PaginationStartingAfter",
    }
  PaginationEndingBefore:
    {
      $ref: "./fb-provider-api.yaml#/components/parameters/PaginationEndingBefore",
    }
  ListOrderQueryParam:
    {
      $ref: "./fb-provider-api.yaml#/components/parameters/ListOrderQueryParam",
    }

x-header-params:
  X-FBAPI-KEY:
    { $ref: "./fb-provider-api.yaml#/components/parameters/X-FBAPI-KEY" }
  X-FBAPI-SIGNATURE:
    { $ref: "./fb-provider-api.yaml#/components/parameters/X-FBAPI-SIGNATURE" }
  X-FBAPI-NONCE:
    { $ref: "./fb-provider-api.yaml#/components/parameters/X-FBAPI-NONCE" }
  X-FBAPI-TIMESTAMP:
    { $ref: "./fb-provider-api.yaml#/components/parameters/X-FBAPI-TIMESTAMP" }

x-schemas:
  PositiveAmount:
    { $ref: "./fb-provider-api.yaml#/components/schemas/PositiveAmount" }
  PublicBlockchainCapability:
    {
      $ref: "./fb-provider-api.yaml#/components/schemas/PublicBlockchainCapability",
    }
  PublicBlockchainAddress:
    {
      $ref: "./fb-provider-api.yaml#/components/schemas/PublicBlockchainAddress",
    }
  FiatCapability:
    {
      $ref: "./fb-provider-transfer-api.yaml#/components/schemas/FiatCapability",
    }
  NationalCurrency:
    { $ref: "./fb-provider-api.yaml#/components/schemas/NationalCurrency" }
  CryptocurrencyReference:
    {
      $ref: "./fb-provider-api.yaml#/components/schemas/CryptocurrencyReference",
    }
  FiatAddress:
    { $ref: "./fb-provider-transfer-api.yaml#/components/schemas/FiatAddress" }
  IbanTransfer:
    { $ref: "./fb-provider-transfer-api.yaml#/components/schemas/IbanTransfer" }
  SwiftTransfer:
    {
      $ref: "./fb-provider-transfer-api.yaml#/components/schemas/SwiftTransfer",
    }
  AchTransfer:
    { $ref: "./fb-provider-transfer-api.yaml#/components/schemas/AchTransfer" }
  WireTransfer:
    { $ref: "./fb-provider-transfer-api.yaml#/components/schemas/WireTransfer" }
  SpeiTransfer:
    { $ref: "./fb-provider-transfer-api.yaml#/components/schemas/SpeiTransfer" }
  PixTransfer:
    { $ref: "./fb-provider-transfer-api.yaml#/components/schemas/PixTransfer" }
  EuropeanSEPATransfer:
    { $ref: "./fb-provider-transfer-api.yaml#/components/schemas/EuropeanSEPATransfer" }
  MobileMoneyTransfer:
    { $ref: "./fb-provider-transfer-api.yaml#/components/schemas/MobileMoneyTransfer" }
  LocalBankTransfer:
    { $ref: "./fb-provider-transfer-api.yaml#/components/schemas/LocalBankTransfer" }
  PublicBlockchainTransaction:
    {
      $ref: "./fb-provider-transfer-api.yaml#/components/schemas/PublicBlockchainTransaction",
    }
  ParticipantsIdentification:
    {
      $ref: "./fb-provider-transfer-api.yaml#/components/schemas/ParticipantsIdentification",
    }

x-responses:
  BadRequestResponse:
    { $ref: "./fb-provider-api.yaml#/components/responses/BadRequestResponse" }
  UnauthorizedResponse:
    {
      $ref: "./fb-provider-api.yaml#/components/responses/UnauthorizedResponse",
    }
  ErrorResponse:
    { $ref: "./fb-provider-api.yaml#/components/responses/ErrorResponse" }

paths:
  /accounts/{accountId}/capabilities/ramps:
    get:
      operationId: getRampMethods
      summary: Get list of supported ramp methods
      description: >
        Retrieves the list of supported on-ramp and off-ramp methods available for the specified account.
        Shows which payment methods and currencies are supported for fiat-to-crypto and crypto-to-fiat conversions.
      tags: [capabilities]
      parameters:
        - $ref: "#/x-header-params/X-FBAPI-KEY"
        - $ref: "#/x-header-params/X-FBAPI-NONCE"
        - $ref: "#/x-header-params/X-FBAPI-SIGNATURE"
        - $ref: "#/x-header-params/X-FBAPI-TIMESTAMP"
        - $ref: "#/x-query-params/PaginationLimit"
        - $ref: "#/x-query-params/PaginationStartingAfter"
        - $ref: "#/x-query-params/PaginationEndingBefore"
        - $ref: "#/x-path-params/SubAccountIdPathParam"
      responses:
        "200":
          $ref: "#/components/responses/RampMethodsResponse"
        "400":
          $ref: "#/x-responses/BadRequestResponse"
        "401":
          $ref: "#/x-responses/UnauthorizedResponse"
        "4XX":
          $ref: "#/x-responses/ErrorResponse"
        "5XX":
          $ref: "#/x-responses/ErrorResponse"

  /accounts/{accountId}/ramps:
    get:
      operationId: getRamps
      summary: Get list of ramps sorted by creation time
      description: >
        Retrieves a paginated list of all ramp transactions for the specified account.
        Ramps are sorted by creation time and include both on-ramp and off-ramp operations.
      tags: [ramps]
      parameters:
        - $ref: "#/x-header-params/X-FBAPI-KEY"
        - $ref: "#/x-header-params/X-FBAPI-NONCE"
        - $ref: "#/x-header-params/X-FBAPI-SIGNATURE"
        - $ref: "#/x-header-params/X-FBAPI-TIMESTAMP"
        - $ref: "#/x-query-params/PaginationLimit"
        - $ref: "#/x-query-params/PaginationStartingAfter"
        - $ref: "#/x-query-params/PaginationEndingBefore"
        - $ref: "#/x-query-params/ListOrderQueryParam"
        - $ref: "#/x-path-params/SubAccountIdPathParam"
      responses:
        "200":
          $ref: "#/components/responses/GetRampsResponse"
        "400":
          $ref: "#/x-responses/BadRequestResponse"
        "401":
          $ref: "#/x-responses/UnauthorizedResponse"
        "4XX":
          $ref: "#/x-responses/ErrorResponse"
        "5XX":
          $ref: "#/x-responses/ErrorResponse"
    post:
      operationId: createRamp
      summary: Initiates a new ramp
      description:
        Creates the payment instructions for the new ramp and return it in
        the response.
      tags: [ramps]
      parameters:
        - $ref: "#/x-header-params/X-FBAPI-KEY"
        - $ref: "#/x-header-params/X-FBAPI-NONCE"
        - $ref: "#/x-header-params/X-FBAPI-SIGNATURE"
        - $ref: "#/x-header-params/X-FBAPI-TIMESTAMP"
        - $ref: "#/x-path-params/SubAccountIdPathParam"
      requestBody:
        description: Ramp details
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RampRequest"
      responses:
        "201":
          $ref: "#/components/responses/CreateRampResponse"
        "400":
          $ref: "#/x-responses/BadRequestResponse"
        "401":
          $ref: "#/x-responses/UnauthorizedResponse"
        "4XX":
          $ref: "#/x-responses/ErrorResponse"
        "5XX":
          $ref: "#/x-responses/ErrorResponse"

  /accounts/{accountId}/ramps/{id}:
    get:
      operationId: getRampDetails
      summary: Get details of a specific ramp
      description: >
        Retrieves detailed information about a specific ramp transaction, including
        payment instructions, status, amounts, and processing details.
      tags: [ramps]
      parameters:
        - $ref: "#/x-header-params/X-FBAPI-KEY"
        - $ref: "#/x-header-params/X-FBAPI-NONCE"
        - $ref: "#/x-header-params/X-FBAPI-SIGNATURE"
        - $ref: "#/x-header-params/X-FBAPI-TIMESTAMP"
        - $ref: "#/x-path-params/SubAccountIdPathParam"
        - $ref: "#/x-path-params/EntityIdPathParam"
      responses:
        "200":
          $ref: "#/components/responses/GetRampDetailsResponse"
        "400":
          $ref: "#/x-responses/BadRequestResponse"
        "401":
          $ref: "#/x-responses/UnauthorizedResponse"
        "4XX":
          $ref: "#/x-responses/ErrorResponse"
        "5XX":
          $ref: "#/x-responses/ErrorResponse"

components:
  responses:
    RampMethodsResponse:
      description: List of ramp methods for account.
      content:
        application/json:
          schema:
            type: object
            required: [capabilities]
            properties:
              capabilities:
                type: array
                items:
                  $ref: "#/components/schemas/RampMethod"
          examples:
            allUsdMethods:
              summary: USDs ramps
              description: >-
                This response indicates that on ramp from USD to USDC, off 
                ramp from USDC to USD and bridging between USDC and USDC on 
                different blockchains are supported. The USD asset can be 
                specified directly while tokens must be defined in 
                `GET /capabilities/assets` and referenced using their IDs.

                The asset IDs in this example are the same IDs used in the 
                examples of `GET /capabilities/assets`.
              value:
                capabilities:
                  - id: "16b8b2c3-bd61-4745-9c48-3d30c2bc6907"
                    from:
                      asset:
                        nationalCurrencyCode: "USD"
                      transferMethod: "Iban"
                    to:
                      asset:
                        assetId: "360de0ad-9ba1-45d5-8074-22453f193d65" # USDC on Ethereum
                      transferMethod: "PublicBlockchain"
                  - id: "69fa4f38-c1fd-4215-a310-82272225c4ef"
                    from:
                      asset:
                        assetId: "360de0ad-9ba1-45d5-8074-22453f193d65" # USDC on Ethereum
                      transferMethod: "PublicBlockchain"
                    to:
                      asset:
                        nationalCurrencyCode: "USD"
                      transferMethod: "Iban"
                  - id: "afc7caa0-5b7e-4c98-8f2a-a037d0c6bbea"
                    from:
                      asset:
                        assetId: "360de0ad-9ba1-45d5-8074-22453f193d65" # USDC on Ethereum
                      transferMethod: "PublicBlockchain"
                    to:
                      asset:
                        assetId: "606bce6b-ff15-4704-9390-b9e32a6cfcff" # USDC on Polygon
                      transferMethod: "PublicBlockchain"

    CreateRampResponse:
      description: New ramp has been successfully created.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Ramp"
          examples:
            onRamp:
              summary: OnRamp
              description: A standard fiat to crypto on-ramp without additional features.
              value:
                id: "16b8b2c3-bd61-4745-9c48-3d30c2bc6907"
                createdAt: "2021-09-01T12:00:00Z"
                updatedAt: "2021-09-01T12:00:00Z"
                status: "Pending"
                amount: "1000.00"
                type: "OnRamp"
                expiresAt: "2021-09-01T12:00:00Z"
                from:
                  asset:
                    nationalCurrencyCode: "USD"
                  transferMethod: "Iban"
                to:
                  asset:
                    assetId: "360de0ad-9ba1-45d5-8074-22453f193d65"
                  transferMethod: "PublicBlockchain"
                  address: "0x1234567890abcdef1234567890abcdef12345678"
                paymentInstructions:
                  asset:
                    nationalCurrencyCode: "USD"
                  transferMethod: "Iban"
                  accountHolder:
                    name: "John Doe"
                    address: "123 Main St, New York, NY 10001"
                  iban: "US1234567890"
                fees:
                  subAccount: 100
                  provider: 200
            onRampWithQuote:
              summary: OnRamp with Quote
              description: An on-ramp that includes quote information for price execution.
              value:
                id: "69fa4f38-c1fd-4215-a310-82272225c4ef"
                createdAt: "2021-09-01T12:00:00Z"
                updatedAt: "2021-09-01T12:00:00Z"
                status: "Pending"
                amount: "500.00"
                type: "OnRamp"
                expiresAt: "2021-09-01T12:00:00Z"
                from:
                  asset:
                    nationalCurrencyCode: "USD"
                  transferMethod: "Iban"
                to:
                  asset:
                    assetId: "606bce6b-ff15-4704-9390-b9e32a6cfcff"
                  transferMethod: "PublicBlockchain"
                  address: "0xabcdef1234567890abcdef1234567890abcdef12"
                paymentInstructions:
                  asset:
                    nationalCurrencyCode: "USD"
                  transferMethod: "Iban"
                  accountHolder:
                    name: "Jane Smith"
                    address: "456 Oak Street, London, UK"
                  iban: "US1234567890"
                executionDetails:
                  type: "Quote"
                  quoteId: "quote-123456789"
                  reQuote: 
                    type: "Retry"
                    slippage: 0.02
                    count: 3
                fees:
                  subAccount: 75
                  provider: 150
  
    GetRampDetailsResponse:
      description: Ramp details.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Ramp"

    GetRampsResponse:
      description: List of ramps for account.
      content:
        application/json:
          schema:
            type: object
            required: [ramps]
            properties:
              ramps:
                type: array
                items:
                  $ref: "#/components/schemas/Ramp"
          examples:
            allRamps:
              summary: All ramps
              description: >-
                This response indicates that there are 3 ramps in the account.
              value:
                ramps:
                  - id: "16b8b2c3-bd61-4745-9c48-3d30c2bc6907"
                    createdAt: "2021-09-01T12:00:00Z"
                    updatedAt: "2021-09-01T12:00:00Z"
                    status: "Pending"
                    amount: "1231.45"
                    type: "OnRamp"
                    from:
                      asset:
                        nationalCurrencyCode: "USD"
                      transferMethod: "Iban"
                    to:
                      asset:
                        assetId: "360de0ad-9ba1-45d5-8074-22453f193d65"
                      transferMethod: "PublicBlockchain"
                      address: "0x1234567890abcdef1234567890abcdef12345678"
                      tag: "1234567890abcdef"
                    paymentInstructions:
                      asset:
                        nationalCurrencyCode: "USD"
                      transferMethod: "Iban"
                      accountHolder:
                        name: "John Doe"
                        address: "123 Main St, New York, NY 10001"
                      iban: "US1234567890"
                    fees:
                      subAccount: 100
                      provider: 200
                    expiresAt: "2021-09-01T12:00:00Z"
                  - id: "69fa4f38-c1fd-4215-a310-82272225c4ef"
                    createdAt: "2021-09-01T12:00:00Z"
                    updatedAt: "2021-09-01T12:00:00Z"
                    status: "Completed"
                    amount: "1231.45"
                    type: "OffRamp"
                    from:
                      asset:
                        assetId: "360de0ad-9ba1-45d5-8074-22453f193d65" # USDC on Ethereum
                      transferMethod: "PublicBlockchain"
                    to:
                      asset:
                        nationalCurrencyCode: "USD"
                      transferMethod: "Iban"
                      accountHolder:
                        name: "John Doe"
                        address: "123 Main St, New York, NY 10001"
                      iban: "US1234567890"
                    paymentInstructions:
                      asset:
                        assetId: "360de0ad-9ba1-45d5-8074-22453f193d65" # USDC on Ethereum
                      transferMethod: "PublicBlockchain"
                      address: "0x1234567890abcdef1234567890abcdef12345678"
                    payment:
                      blockchainTxId: "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef"
                      amount: "1231.45"
                      address: "0x1234567890abcdef1234567890abcdef12345678"
                      asset:
                        assetId: "360de0ad-9ba1-45d5-8074-22453f193d65" # USDC on Ethereum
                      transferMethod: "PublicBlockchain"
                    receipt:
                      asset:
                        nationalCurrencyCode: "USD"
                      transferMethod: "Iban"
                      accountHolder:
                        name: "John Doe"
                        address: "123 Main St, New York, NY 10001"
                      iban: "US1234567890"
                      amount: "1231.45"
                    fees:
                      subAccount: 100
                    expiresAt: "2021-09-01T12:00:00Z"
                  - id: "afc7caa0-5b7e-4c98-8f2a-a037d0c6bbea"
                    createdAt: "2021-09-01T12:00:00Z"
                    updatedAt: "2021-09-01T12:00:00Z"
                    status: "Processing"
                    amount: "1231.45"
                    type: "Bridge"
                    from:
                      asset:
                        assetId: "360de0ad-9ba1-45d5-8074-22453f193d65" # USDC on Ethereum
                      transferMethod: "PublicBlockchain"
                    to:
                      asset:
                        assetId: "606bce6b-ff15-4704-9390-b9e32a6cfcff"
                      transferMethod: "PublicBlockchain"
                      address: "0x1234567890abcdef1234567890abcdef12345678"
                      tag: "1234567890abcdef"
                    paymentInstructions:
                      asset:
                        assetId: "360de0ad-9ba1-45d5-8074-22453f193d65" # USDC on Ethereum
                      transferMethod: "PublicBlockchain"
                      address: "0x1234567890abcdef1234567890abcdef12355678"
                    payment:
                      blockchainTxId: "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef"
                      amount: "1231.45"
                      address: "0x1234567890abcdef1234567890abcdef12355678"
                      asset:
                        assetId: "360de0ad-9ba1-45d5-8074-22453f193d65" # USDC on Ethereum
                      transferMethod: "PublicBlockchain"
                    receipt:
                      blockchainTxId: "0x1234567890abcdef1234567899abcdef1234567890abcdef1234567890abcdef"
                      amount: "1231.45"
                      address: "0x1234567890abcdef1234567890abcdef12345678"
                      asset:
                        assetId: "606bce6b-ff15-4704-9390-b9e32a6cfcff" # USDC on Polygon
                      transferMethod: "PublicBlockchain"
                    fees:
                      subAccount: 100
                    expiresAt: "2021-09-01T12:00:00Z"
  schemas:
    RampStatus:
      enum:
        - Pending
        - Processing
        - Canceled
        - Completed
        - Failed
        - Refunded

    PrefundedOnRampCapability:
      type: object
      title: Prefunded Fiat to Crypto
      required: [from, to]
      properties:
        from:
          $ref: "#/components/schemas/PrefundedFiatCapability"
        to:
          $ref: "#/x-schemas/PublicBlockchainCapability"

    OnRampCapability:
      type: object
      title: Fiat to Crypto
      required: [from, to]
      properties:
        from:
          $ref: "#/x-schemas/FiatCapability"
        to:
          $ref: "#/x-schemas/PublicBlockchainCapability"

    PrefundedOffRampCapability:
      type: object
      title: Prefunded Crypto to Fiat
      required: [from, to]
      properties:
        from:
          $ref: "#/components/schemas/PrefundedBlockchainCapability"
        to:
          $ref: "#/x-schemas/FiatCapability"

    OffRampCapability:
      type: object
      title: Crypto to Fiat
      required: [from, to]
      properties:
        from:
          $ref: "#/x-schemas/PublicBlockchainCapability"
        to:
          $ref: "#/x-schemas/FiatCapability"

    PrefundedBridgeCapability:
      type: object
      title: Prefunded Crypto to Crypto
      required: [from, to]
      properties:
        from:
          $ref: "#/components/schemas/PrefundedBlockchainCapability"
        to:
          $ref: "#/x-schemas/PublicBlockchainCapability"

    BridgeCapability:
      type: object
      title: Crypto to Crypto
      required: [from, to]
      properties:
        from:
          $ref: "#/x-schemas/PublicBlockchainCapability"
        to:
          $ref: "#/x-schemas/PublicBlockchainCapability"

    RampMethod:
      allOf:
        - type: object
          required: [id]
          properties:
            id:
              type: string
        - oneOf:
            - $ref: "#/components/schemas/OnRampCapability"
            - $ref: "#/components/schemas/PrefundedOnRampCapability"
            - $ref: "#/components/schemas/OffRampCapability"
            - $ref: "#/components/schemas/PrefundedOffRampCapability"
            - $ref: "#/components/schemas/BridgeCapability"
            - $ref: "#/components/schemas/PrefundedBridgeCapability"

    BlockchainCapabilityWithOptionalAddress:
      title: Blockchain Capability With Address
      allOf:
        - $ref: "#/x-schemas/PublicBlockchainCapability"
        - type: object
          properties:
            address:
              type: string

    PrefundedFiatCapability:
      type: object
      required:
        - asset
        - type
      properties:
        asset:
          $ref: "#/x-schemas/NationalCurrency"
        type:
          type: string
          enum:
            - Prefunded

    PrefundedBlockchainCapability:
      type: object
      required:
        - asset
        - type
      properties:
        asset:
          $ref: "#/x-schemas/CryptocurrencyReference"
        type:
          type: string
          enum:
            - Prefunded

    PrefundedOnRampProperties:
      type: object
      title: On Ramp - Prefunded
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - OnRamp
        from:
          $ref: "#/components/schemas/PrefundedFiatCapability"
        to:
          $ref: "#/x-schemas/PublicBlockchainAddress"

    OnRampProperties:
      type: object
      title: On Ramp
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - OnRamp
        from:
          $ref: "#/x-schemas/FiatCapability"
        to:
          $ref: "#/x-schemas/PublicBlockchainAddress"

    PrefundedOffRampProperties:
      type: object
      title: Off Ramp - Prefunded
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - OffRamp
        from:
          $ref: "#/components/schemas/PrefundedBlockchainCapability"
        to:
          $ref: "#/x-schemas/FiatAddress"

    OffRampProperties:
      type: object
      title: Off Ramp
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - OffRamp
        from:
          $ref: "#/components/schemas/BlockchainCapabilityWithOptionalAddress"
        to:
          $ref: "#/x-schemas/FiatAddress"

    PrefundedBridgeProperties:
      type: object
      title: Bridge - Prefunded
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - Bridge
        from:
          $ref: "#/components/schemas/PrefundedBlockchainCapability"
        to:
          $ref: "#/x-schemas/PublicBlockchainAddress"

    BridgeProperties:
      type: object
      title: Bridge
      required:
        - type
        - from
        - to
      properties:
        type:
          type: string
          enum:
            - Bridge
        from:
          $ref: "#/components/schemas/BlockchainCapabilityWithOptionalAddress"
        to:
          $ref: "#/x-schemas/PublicBlockchainAddress"

    CommonRampRequestProperties:
      type: object
      required:
        - idempotencyKey
        - amount
      properties:
        idempotencyKey:
          type: string
        amount:
          $ref: "#/x-schemas/PositiveAmount"

    RampRequest:
      allOf:
        - $ref: "#/components/schemas/CommonRampRequestProperties"
        - oneOf:
            - $ref: "#/components/schemas/OnRampProperties"
            - $ref: "#/components/schemas/PrefundedOnRampProperties"
            - $ref: "#/components/schemas/OffRampProperties"
            - $ref: "#/components/schemas/PrefundedOffRampProperties"
            - $ref: "#/components/schemas/BridgeProperties"
            - $ref: "#/components/schemas/PrefundedBridgeProperties"
        - type: object
          properties:
            executionDetails:
              oneOf:
                - $ref: "#/components/schemas/OrderQuote"
        - type: object
          properties:
            participantsIdentification:
              $ref: "#/x-schemas/ParticipantsIdentification"

    RampFees:
      type: object
      description: Fees associated with the ramp transfer.
      properties:
        subAccount:
          type: integer
          description: Fees charged from the sub-account in basis points.
        provider:
          type: integer
          description: Fees charged by the provider for the ramp service in basis points.

    CommonRamp:
      type: object
      required: [id, status, createdAt, updatedAt, amount, expiresAt]
      properties:
        id:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        status:
          $ref: "#/components/schemas/RampStatus"
        amount:
          $ref: "#/x-schemas/PositiveAmount"
        fees:
          $ref: "#/components/schemas/RampFees"
        executionDetails:
          oneOf:
            - $ref: "#/components/schemas/OrderQuote"
        expiresAt:
          description: Ramp expiration time.
          type: string
          format: date-time

    OnRampPropertiesWithPaymentInstructions:
      type: object
      title: On Ramp
      allOf:
        - type: object
          required:
            - paymentInstructions
          properties:
            paymentInstructions:
              allOf:
                - $ref: "#/x-schemas/FiatAddress"
                - type: object
                  properties:
                    referenceId:
                      type: string
        - $ref: "#/components/schemas/OnRampProperties"

    OffRampPropertiesWithPaymentInstructions:
      type: object
      title: Off Ramp
      allOf:
        - type: object
          required:
            - paymentInstructions
          properties:
            paymentInstructions:
              $ref: "#/x-schemas/PublicBlockchainAddress"
        - $ref: "#/components/schemas/OffRampProperties"

    BridgePropertiesWithPaymentInstructions:
      type: object
      title: Bridge
      allOf:
        - type: object
          required:
            - paymentInstructions
          properties:
            paymentInstructions:
              $ref: "#/x-schemas/PublicBlockchainAddress"
        - $ref: "#/components/schemas/BridgeProperties"

    OnRamp:
      title: On Ramp
      allOf:
        - $ref: "#/components/schemas/CommonRamp"
        - oneOf:
            - $ref: "#/components/schemas/OnRampPropertiesWithPaymentInstructions"
            - $ref: "#/components/schemas/PrefundedOnRampProperties"
        - type: object
          properties:
            receipt:
              $ref: "#/x-schemas/PublicBlockchainTransaction"

    OffRamp:
      allOf:
        - $ref: "#/components/schemas/CommonRamp"
        - oneOf:
            - $ref: "#/components/schemas/OffRampPropertiesWithPaymentInstructions"
            - $ref: "#/components/schemas/PrefundedOffRampProperties"
        - type: object
          properties:
            receipt:
              $ref: "#/components/schemas/RampFiatTransfer"

    Bridge:
      allOf:
        - $ref: "#/components/schemas/CommonRamp"
        - oneOf:
            - $ref: "#/components/schemas/BridgePropertiesWithPaymentInstructions"
            - $ref: "#/components/schemas/PrefundedBridgeProperties"
        - type: object
          properties:
            receipt:
              $ref: "#/x-schemas/PublicBlockchainTransaction"

    Ramp:
      oneOf:
        - $ref: "#/components/schemas/OnRamp"
        - $ref: "#/components/schemas/OffRamp"
        - $ref: "#/components/schemas/Bridge"

    RampFiatTransfer:
      oneOf:
        - $ref: "#/x-schemas/IbanTransfer"
        - $ref: "#/x-schemas/SwiftTransfer"
        - $ref: "#/x-schemas/AchTransfer"
        - $ref: "#/x-schemas/WireTransfer"
        - $ref: "#/x-schemas/SpeiTransfer"
        - $ref: "#/x-schemas/PixTransfer"
        - $ref: "#/x-schemas/EuropeanSEPATransfer"
        - $ref: "#/x-schemas/LocalBankTransfer"
        - $ref: "#/x-schemas/MobileMoneyTransfer"

    OrderQuote:
      type: object
      required:
        - type
        - quoteId
      properties:
        type:
          type: string
          enum:
            - Quote
        quoteId:
          type: string
        reQuote:
          oneOf:
            - $ref: "#/components/schemas/Retry"
            - $ref: "#/components/schemas/Market"

    Retry:
      type: object
      required:
        - type
        - slippage
      properties:
        type:
          type: string
          enum:
            - Retry
        slippage:
          type: number
          description: Slippage tolerance in basis points (bps) for quote orders - 1 is 0.01% and 10000 is 100%
        count:
          type: number
          description: If quote is expired, how many times to re-generate new quotes to try having the order executed as in the original quote.

    Market:
      type: object
      required:
        - type
      properties:
        type:
          type: string
          enum:
            - Market